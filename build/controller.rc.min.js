!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self);d.io=t()}}(function(){return function d(f,g,b){function a(c,r){if(!g[c]){if(!f[c]){var k="function"==typeof require&&require;if(!r&&k)return k(c,!0);if(e)return e(c,!0);throw Error("Cannot find module '"+c+"'");}k=g[c]={exports:{}};f[c][0].call(k.exports,
function(b){var e=f[c][1][b];return a(e?e:b)},k,k.exports,d,f,g,b)}return g[c].exports}for(var e="function"==typeof require&&require,c=0;c<b.length;c++)a(b[c]);return a}({1:[function(d,f,g){f.exports=d("./lib/")},{"./lib/":2}],2:[function(d,f,g){function b(b,e){"object"==typeof b&&(e=b,b=void 0);e=e||{};var d=a(b),n=d.source,q=d.id;e.forceNew||e["force new connection"]||!1===e.multiplex?(h("ignoring socket cache for %s",n),n=c(n,e)):(r[q]||(h("new io instance for %s",n),r[q]=c(n,e)),n=r[q]);return n.socket(d.path)}
var a=d("./url"),e=d("socket.io-parser"),c=d("./manager"),h=d("debug")("socket.io-client");f.exports=g=b;var r=g.managers={};g.protocol=e.protocol;g.connect=b;g.Manager=d("./manager");g.Socket=d("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(d,f,g){function b(e,a){if(!(this instanceof b))return new b(e,a);e&&"object"==typeof e&&(a=e,e=void 0);a=a||{};a.path=a.path||"/socket.io";this.nsps={};this.subs=[];this.opts=a;this.reconnection(!1!==a.reconnection);
this.reconnectionAttempts(a.reconnectionAttempts||Infinity);this.reconnectionDelay(a.reconnectionDelay||1E3);this.reconnectionDelayMax(a.reconnectionDelayMax||5E3);this.timeout(null==a.timeout?2E4:a.timeout);this.readyState="closed";this.uri=e;this.attempts=this.connected=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new c.Encoder;this.decoder=new c.Decoder;(this.autoConnect=!1!==a.autoConnect)&&this.open()}d("./url");var a=d("engine.io-client"),e=d("./socket");g=d("component-emitter");var c=
d("socket.io-parser"),h=d("./on"),r=d("component-bind");d("object-component");var k=d("debug")("socket.io-client:manager");f.exports=b;b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};g(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;
this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};b.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||
!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())};b.prototype.open=b.prototype.connect=function(e){k("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;k("opening %s",this.uri);var b=this.engine=a(this.uri,this.opts),c=this;this.readyState="opening";var q=h(b,"open",function(){c.onopen();e&&e()}),s=h(b,"error",function(a){k("connect_error");c.cleanup();c.readyState="closed";c.emitAll("connect_error",a);if(e){var b=Error("Connection error");
b.data=a;e(b)}c.maybeReconnectOnOpen()});if(!1!==this._timeout){var d=this._timeout;k("connect attempt will timeout after %d",d);var z=setTimeout(function(){k("connect attempt timed out after %d",d);q.destroy();b.close();b.emit("error","timeout");c.emitAll("connect_timeout",d)},d);this.subs.push({destroy:function(){clearTimeout(z)}})}this.subs.push(q);this.subs.push(s);return this};b.prototype.onopen=function(){k("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(h(a,
"data",r(this,"ondata")));this.subs.push(h(this.decoder,"decoded",r(this,"ondecoded")));this.subs.push(h(a,"error",r(this,"onerror")));this.subs.push(h(a,"close",r(this,"onclose")))};b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){k("error",a);this.emitAll("error",a)};b.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new e(this,a);this.nsps[a]=b;var c=this;b.on("connect",function(){c.connected++})}return b};
b.prototype.destroy=function(a){--this.connected||this.close()};b.prototype.packet=function(a){k("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(a){for(var e=0;e<a.length;e++)b.engine.write(a[e]);b.encoding=!1;b.processPacketQueue()}))};b.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();
this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0;this.engine.close()};b.prototype.onclose=function(a){k("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};b.prototype.reconnect=function(){if(this.reconnecting)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)k("reconnect failed"),this.emitAll("reconnect_failed"),
this.reconnecting=!1;else{var b=this.attempts*this.reconnectionDelay(),b=Math.min(b,this.reconnectionDelayMax());k("will wait %dms before reconnect attempt",b);this.reconnecting=!0;var e=setTimeout(function(){k("attempting reconnect");a.emitAll("reconnect_attempt",a.attempts);a.emitAll("reconnecting",a.attempts);a.open(function(b){b?(k("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(k("reconnect success"),a.onreconnect())})},b);this.subs.push({destroy:function(){clearTimeout(e)}})}};
b.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,"object-component":37,"socket.io-parser":40}],4:[function(d,f,g){f.exports=function(b,a,e){b.on(a,e);return{destroy:function(){b.removeListener(a,e)}}}},{}],5:[function(d,f,g){function b(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();
this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.subEvents()}var a=d("socket.io-parser");g=d("component-emitter");var e=d("to-array"),c=d("./on"),h=d("component-bind"),r=d("debug")("socket.io-client:socket"),k=d("has-binary");d("indexof");f.exports=b;var p={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},m=g.prototype.emit;g(b.prototype);b.prototype.subEvents=function(){var a=
this.io;this.subs=[c(a,"open",h(this,"onopen")),c(a,"packet",h(this,"onpacket")),c(a,"close",h(this,"onclose"))]};b.prototype.open=b.prototype.connect=function(){if(this.connected)return this;this.io.open();if("open"==this.io.readyState)this.onopen();return this};b.prototype.send=function(){var a=e(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(b){if(p.hasOwnProperty(b))return m.apply(this,arguments),this;var q=e(arguments),c=a.EVENT;k(q)&&(c=a.BINARY_EVENT);
c={type:c,data:q};"function"==typeof q[q.length-1]&&(r("emitting packet with ack id %d",this.ids),this.acks[this.ids]=q.pop(),c.id=this.ids++);this.connected?this.packet(c):this.sendBuffer.push(c);return this};b.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};b.prototype.onopen=function(){r("transport is open - connecting");"/"!=this.nsp&&this.packet({type:a.CONNECT})};b.prototype.onclose=function(a){r("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};
b.prototype.onpacket=function(b){if(b.nsp==this.nsp)switch(b.type){case a.CONNECT:this.onconnect();break;case a.EVENT:this.onevent(b);break;case a.BINARY_EVENT:this.onevent(b);break;case a.ACK:this.onack(b);break;case a.BINARY_ACK:this.onack(b);break;case a.DISCONNECT:this.ondisconnect();break;case a.ERROR:this.emit("error",b.data)}};b.prototype.onevent=function(a){var b=a.data||[];r("emitting event %j",b);null!=a.id&&(r("attaching ack callback to event"),b.push(this.ack(a.id)));this.connected?m.apply(this,
b):this.receiveBuffer.push(b)};b.prototype.ack=function(b){var c=this,h=!1;return function(){if(!h){h=!0;var d=e(arguments);r("sending ack %j",d);var z=k(d)?a.BINARY_ACK:a.ACK;c.packet({type:z,id:b,data:d})}}};b.prototype.onack=function(a){r("calling ack %s with %j",a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};b.prototype.emitBuffered=function(){var a;for(a=
0;a<this.receiveBuffer.length;a++)m.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};b.prototype.ondisconnect=function(){r("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};b.prototype.destroy=function(){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.io.destroy(this)};b.prototype.close=b.prototype.disconnect=function(){if(!this.connected)return this;
r("performing disconnect (%s)",this.nsp);this.packet({type:a.DISCONNECT});this.destroy();this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,indexof:36,"socket.io-parser":40,"to-array":44}],6:[function(d,f,g){(function(b){var a=d("parseuri"),e=d("debug")("socket.io-client:url");f.exports=function(c,h){var d=c;h=h||b.location;null==c&&(c=h.protocol+"//"+h.hostname);"string"==typeof c&&("/"==c.charAt(0)&&"undefined"!=typeof h&&
(c=h.hostname+c),/^(https?|wss?):\/\//.test(c)||(e("protocol-less url %s",c),c="undefined"!=typeof h?h.protocol+"//"+c:"https://"+c),e("parse %s",c),d=a(c));d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443"));d.path=d.path||"/";d.id=d.protocol+"://"+d.host+":"+d.port;d.href=d.protocol+"://"+d.host+(h&&h.port==d.port?"":":"+d.port);return d}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:9,parseuri:38}],7:[function(d,
f,g){var b=[].slice;f.exports=function(a,e){"string"==typeof e&&(e=a[e]);if("function"!=typeof e)throw Error("bind() requires a function");var c=b.call(arguments,2);return function(){return e.apply(a,c.concat(b.call(arguments)))}}},{}],8:[function(d,f,g){function b(a){if(a){for(var e in b.prototype)a[e]=b.prototype[e];return a}}f.exports=b;b.prototype.on=b.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};
b.prototype.once=function(a,b){function c(){h.off(a,c);b.apply(this,arguments)}var h=this;this._callbacks=this._callbacks||{};c.fn=b;this.on(a,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var h,d=0;d<c.length;d++)if(h=
c[d],h===b||h.fn===b){c.splice(d,1);break}return this};b.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c)for(var c=c.slice(0),h=0,d=c.length;h<d;++h)c[h].apply(this,b);return this};b.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};b.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],9:[function(d,f,g){function b(a){return b.enabled(a)?function(c){c instanceof
Error&&(c=c.stack||c.message);var h=new Date,d=h-(b[a]||h);b[a]=h;c=a+" "+c+" +"+b.humanize(d);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}f.exports=b;b.names=[];b.skips=[];b.enable=function(a){try{localStorage.debug=a}catch(c){}for(var d=(a||"").split(/[\s,]+/),g=d.length,k=0;k<g;k++)a=d[k].replace("*",".*?"),"-"===a[0]?b.skips.push(new RegExp("^"+a.substr(1)+"$")):b.names.push(new RegExp("^"+a+"$"))};b.disable=function(){b.enable("")};
b.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};b.enabled=function(a){for(var c=0,d=b.skips.length;c<d;c++)if(b.skips[c].test(a))return!1;c=0;for(d=b.names.length;c<d;c++)if(b.names[c].test(a))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(a){}},{}],10:[function(d,f,g){f.exports=d("./lib/")},{"./lib/":11}],11:[function(d,f,g){f.exports=d("./socket");f.exports.parser=d("engine.io-parser")},{"./socket":12,
"engine.io-parser":21}],12:[function(d,f,g){(function(b){function a(c,e){if(!(this instanceof a))return new a(c,e);e=e||{};c&&"object"==typeof c&&(e=c,c=null);c&&(c=p(c),e.host=c.host,e.secure="https"==c.protocol||"wss"==c.protocol,e.port=c.port,c.query&&(e.query=c.query));this.secure=null!=e.secure?e.secure:b.location&&"https:"==location.protocol;if(e.host){var d=e.host.split(":");e.hostname=d.shift();d.length&&(e.port=d.pop())}this.agent=e.agent||!1;this.hostname=e.hostname||(b.location?location.hostname:
"localhost");this.port=e.port||(b.location&&location.port?location.port:this.secure?443:80);this.query=e.query||{};"string"==typeof this.query&&(this.query=n.decode(this.query));this.upgrade=!1!==e.upgrade;this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!e.forceJSONP;this.jsonp=!1!==e.jsonp;this.forceBase64=!!e.forceBase64;this.enablesXDR=!!e.enablesXDR;this.timestampParam=e.timestampParam||"t";this.timestampRequests=e.timestampRequests;this.transports=e.transports||["polling",
"websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=e.policyPort||843;this.rememberUpgrade=e.rememberUpgrade||!1;this.open();this.binaryType=null;this.onlyBinaryUpgrades=e.onlyBinaryUpgrades}var e=d("./transports"),c=d("component-emitter"),h=d("debug")("engine.io-client:socket"),g=d("indexof"),k=d("engine.io-parser"),p=d("parseuri"),m=d("parsejson"),n=d("parseqs");f.exports=a;a.priorWebsocketSuccess=!1;c(a.prototype);a.protocol=k.protocol;a.Socket=a;a.Transport=
d("./transport");a.transports=d("./transports");a.parser=d("engine.io-parser");a.prototype.createTransport=function(a){h('creating transport "%s"',a);var b=this.query,c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.EIO=k.protocol;c.transport=a;this.id&&(c.sid=this.id);return new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:c,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,
timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};a.prototype.open=function(){var b;if(this.rememberUpgrade&&a.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))b="websocket";else{if(0==this.transports.length){var e=this;setTimeout(function(){e.emit("error","No transports available")},0);return}b=this.transports[0]}this.readyState="opening";try{b=this.createTransport(b)}catch(c){this.transports.shift();this.open();return}b.open();this.setTransport(b)};a.prototype.setTransport=
function(a){h("setting transport %s",a.name);var b=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};a.prototype.probe=function(b){function e(){if(m.onlyBinaryUpgrades){var c=!this.supportsBinary&&m.transport.supportsBinary;f=f||c}f||(h('probe transport "%s" opened',
b),n.send([{type:"ping",data:"probe"}]),n.once("packet",function(e){f||("pong"==e.type&&"probe"==e.data?(h('probe transport "%s" pong',b),m.upgrading=!0,m.emit("upgrading",n),a.priorWebsocketSuccess="websocket"==n.name,h('pausing current transport "%s"',m.transport.name),m.transport.pause(function(){f||"closed"==m.readyState||"closing"==m.readyState||(h("changing transport and sending upgrade packet"),r(),m.setTransport(n),n.send([{type:"upgrade"}]),m.emit("upgrade",n),n=null,m.upgrading=!1,m.flush())})):
(h('probe transport "%s" failed',b),e=Error("probe error"),e.transport=n.name,m.emit("upgradeError",e)))}))}function c(){f||(f=!0,r(),n.close(),n=null)}function d(a){var e=Error("probe error: "+a);e.transport=n.name;c();h('probe transport "%s" failed because of error: %s',b,a);m.emit("upgradeError",e)}function k(){d("transport closed")}function g(){d("socket closed")}function p(a){n&&a.name!=n.name&&(h('"%s" works - aborting "%s"',a.name,n.name),c())}function r(){n.removeListener("open",e);n.removeListener("error",
d);n.removeListener("close",k);m.removeListener("close",g);m.removeListener("upgrading",p)}h('probing transport "%s"',b);var n=this.createTransport(b,{probe:1}),f=!1,m=this;a.priorWebsocketSuccess=!1;n.once("open",e);n.once("error",d);n.once("close",k);this.once("close",g);this.once("upgrading",p);n.open()};a.prototype.onOpen=function(){h("socket open");this.readyState="open";a.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&
this.transport.pause){h("starting upgrade probes");for(var b=0,e=this.upgrades.length;b<e;b++)this.probe(this.upgrades[b])}};a.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(h('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(m(a.data));break;case "pong":this.setPing();break;case "error":var b=Error("server error");b.code=a.data;this.emit("error",b);break;case "message":this.emit("data",
a.data),this.emit("message",a.data)}else h('packet received with socket readyState "%s"',this.readyState)};a.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};a.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);
var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};a.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};a.prototype.ping=function(){this.sendPacket("ping")};a.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();
this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};a.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};a.prototype.write=a.prototype.send=function(a,
b){this.sendPacket("message",a,b);return this};a.prototype.sendPacket=function(a,b,e){a={type:a,data:b};this.emit("packetCreate",a);this.writeBuffer.push(a);this.callbackBuffer.push(e);this.flush()};a.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.onClose("forced close"),h("socket closing - telling transport to close"),this.transport.close();return this};a.prototype.onError=function(b){h("socket error %j",b);a.priorWebsocketSuccess=!1;this.emit("error",b);this.onClose("transport error",
b)};a.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState){h('socket close with reason: "%s"',a);var e=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){e.writeBuffer=[];e.callbackBuffer=[];e.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,b)}};a.prototype.filterUpgrades=function(a){for(var b=
[],e=0,c=a.length;e<c;e++)~g(this.transports,a[e])&&b.push(a[e]);return b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(d,f,g){function b(a){this.path=a.path;this.hostname=a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;
this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR}var a=d("engine.io-parser");d=d("component-emitter");f.exports=b;d(b.prototype);b.timestamps=0;b.prototype.onError=function(a,b){var d=Error(a);d.type="TransportError";d.description=b;this.emit("error",d);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||
"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};b.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){b=a.decodePacket(b,this.socket.binaryType);this.onPacket(b)};b.prototype.onPacket=function(a){this.emit("packet",a)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,
"engine.io-parser":21}],14:[function(d,f,g){(function(b){var a=d("xmlhttprequest"),e=d("./polling-xhr"),c=d("./polling-jsonp"),h=d("./websocket");g.polling=function(d){var h=!1,g=!1,m=!1!==d.jsonp;b.location&&(g="https:"==location.protocol,(h=location.port)||(h=g?443:80),h=d.hostname!=location.hostname||h!=d.port,g=d.secure!=g);d.xdomain=h;d.xscheme=g;if("open"in new a(d)&&!d.forceJSONP)return new e(d);if(!m)throw Error("JSONP disabled");return new c(d)};g.websocket=h}).call(this,"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(d,f,g){(function(b){function a(){}function e(e){c.call(this,e);this.query=this.query||{};p||(b.___eio||(b.___eio=[]),p=b.___eio);this.index=p.length;var d=this;p.push(function(a){d.onData(a)});this.query.j=this.index;b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=a)})}var c=d("./polling"),h=d("component-inherit");
f.exports=e;var g=/\n/g,k=/\\n/g,p;h(e,c);e.prototype.supportsBinary=!1;e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.form=null);c.prototype.doClose.call(this)};e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",
b)};var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(b,e);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype.doWrite=function(a,b){function e(){c();b()}function c(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(a){d.onError("jsonp polling iframe removal error",a)}try{w=document.createElement('<iframe src="javascript:0" name="'+
d.iframeId+'">')}catch(b){w=document.createElement("iframe"),w.name=d.iframeId,w.src="javascript:0"}w.id=d.iframeId;d.form.appendChild(w);d.iframe=w}var d=this;if(!this.form){var h=document.createElement("form"),p=document.createElement("textarea"),f=this.iframeId="eio_iframe_"+this.index,w;h.className="socketio";h.style.position="absolute";h.style.top="-1000px";h.style.left="-1000px";h.target=f;h.method="POST";h.setAttribute("accept-charset","utf-8");p.name="d";h.appendChild(p);document.body.appendChild(h);
this.form=h;this.area=p}this.form.action=this.uri();c();a=a.replace(k,"\\\n");this.area.value=a.replace(g,"\\n");try{this.form.submit()}catch(F){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==d.iframe.readyState&&e()}:this.iframe.onload=e}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(d,f,g){(function(b){function a(){}function e(a){k.call(this,a);if(b.location){var e="https:"==
location.protocol,c=location.port;c||(c=e?443:80);this.xd=a.hostname!=b.location.hostname||c!=a.port;this.xs=a.secure!=e}}function c(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.create()}function h(){for(var a in c.requests)c.requests.hasOwnProperty(a)&&c.requests[a].abort()}var g=d("xmlhttprequest"),
k=d("./polling"),p=d("component-emitter"),m=d("component-inherit"),n=d("debug")("engine.io-client:polling-xhr");f.exports=e;f.exports.Request=c;m(e,k);e.prototype.supportsBinary=!0;e.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;return new c(a)};e.prototype.doWrite=function(a,b){var e=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),c=this;e.on("success",
b);e.on("error",function(a){c.onError("xhr post error",a)});this.sendXhr=e};e.prototype.doPoll=function(){n("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",function(a){b.onError("xhr poll error",a)});this.pollXhr=a};p(c.prototype);c.prototype.create=function(){var a=this.xhr=new g({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),e=this;try{n("xhr open %s: %s",this.method,this.uri);a.open(this.method,this.uri,this.async);this.supportsBinary&&
(a.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?a.setRequestHeader("Content-type","application/octet-stream"):a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(d){}"withCredentials"in a&&(a.withCredentials=!0);this.hasXDR()?(a.onload=function(){e.onLoad()},a.onerror=function(){e.onError(a.responseText)}):a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status||1223==a.status)e.onLoad();else setTimeout(function(){e.onError(a.status)},0)};n("xhr data %s",
this.data);a.send(this.data)}catch(h){setTimeout(function(){e.onError(h)},0);return}b.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)};c.prototype.onSuccess=function(){this.emit("success");this.cleanup()};c.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};c.prototype.onError=function(a){this.emit("error",a);this.cleanup()};c.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=
a;try{this.xhr.abort()}catch(e){}b.document&&delete c.requests[this.index];this.xhr=null}};c.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type")}catch(e){}a="application/octet-stream"===b?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(c){this.onError(c)}if(null!=a)this.onData(a)};c.prototype.hasXDR=function(){return"undefined"!==typeof b.XDomainRequest&&!this.xs&&this.enablesXDR};c.prototype.abort=function(){this.cleanup()};b.document&&
(c.requestsCount=0,c.requests={},b.attachEvent?b.attachEvent("onunload",h):b.addEventListener&&b.addEventListener("beforeunload",h))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(d,f,g){function b(b){var e=b&&b.forceBase64;if(!r||e)this.supportsBinary=!1;a.call(this,b)}var a=d("../transport"),e=d("parseqs"),c=d("engine.io-parser");g=d("component-inherit");var h=
d("debug")("engine.io-client:polling");f.exports=b;var r=function(){return null!=(new (d("xmlhttprequest"))({agent:this.agent,xdomain:!1})).responseType}();g(b,a);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=function(a){function b(){h("paused");e.readyState="paused";a()}var e=this;this.readyState="pausing";if(this.polling||!this.writable){var c=0;this.polling&&(h("we are currently polling - waiting to pause"),c++,this.once("pollComplete",function(){h("pre-pause polling complete");
--c||b()}));this.writable||(h("we are currently writing - waiting to pause"),c++,this.once("drain",function(){h("pre-pause writing complete");--c||b()}))}else b()};b.prototype.poll=function(){h("polling");this.polling=!0;this.doPoll();this.emit("poll")};b.prototype.onData=function(a){var b=this;h("polling got data %s",a);c.decodePayload(a,this.socket.binaryType,function(a,e,c){if("opening"==b.readyState)b.onOpen();if("close"==a.type)return b.onClose(),!1;b.onPacket(a)});"closed"!=this.readyState&&
(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():h('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=function(){function a(){h("writing close packet");b.write([{type:"close"}])}var b=this;"open"==this.readyState?(h("transport open - closing"),a()):(h("transport not open - deferring close"),this.once("open",a))};b.prototype.write=function(a){var b=this;this.writable=!1;var e=function(){b.writable=!0;b.emit("drain")},b=this;c.encodePayload(a,
this.supportsBinary,function(a){b.doWrite(a,e)})};b.prototype.uri=function(){var b=this.query||{},c=this.secure?"https":"http",d="";!1!==this.timestampRequests&&(b[this.timestampParam]=+new Date+"-"+a.timestamps++);this.supportsBinary||b.sid||(b.b64=1);b=e.encode(b);this.port&&("https"==c&&443!=this.port||"http"==c&&80!=this.port)&&(d=":"+this.port);b.length&&(b="?"+b);return c+"://"+this.hostname+d+this.path+b}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],
18:[function(d,f,g){function b(b){b&&b.forceBase64&&(this.supportsBinary=!1);a.call(this,b)}var a=d("../transport"),e=d("engine.io-parser"),c=d("parseqs");g=d("component-inherit");var h=d("debug")("engine.io-client:websocket"),r=d("ws");f.exports=b;g(b,a);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var a=this.uri();this.ws=new r(a,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";
this.addEventListeners()}};b.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(b){a.onData(b.data)};this.ws.onerror=function(b){a.onError("websocket error",b)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(b){var e=this;setTimeout(function(){a.prototype.onData.call(e,b)},0)});b.prototype.write=function(a){var b=this;this.writable=!1;
for(var c=0,d=a.length;c<d;c++)e.encodePacket(a[c],this.supportsBinary,function(a){try{b.ws.send(a)}catch(e){h("websocket closed before onclose event")}});setTimeout(function(){b.writable=!0;b.emit("drain")},0)};b.prototype.onClose=function(){a.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};b.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",e="";this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(e=":"+
this.port);this.timestampRequests&&(a[this.timestampParam]=+new Date);this.supportsBinary||(a.b64=1);a=c.encode(a);a.length&&(a="?"+a);return b+"://"+this.hostname+e+this.path+a};b.prototype.check=function(){return!!r&&!("__initialize"in r&&this.name===b.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(d,f,g){var b=d("has-cors");f.exports=function(a){var e=a.xdomain,c=a.xscheme;a=a.enablesXDR;try{if("undefined"!=typeof XDomainRequest&&
!c&&a)return new XDomainRequest}catch(d){}try{if("undefined"!=typeof XMLHttpRequest&&(!e||b))return new XMLHttpRequest}catch(g){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}},{"has-cors":34}],20:[function(d,f,g){f.exports=function(b,a){var e=function(){};e.prototype=a.prototype;b.prototype=new e;b.prototype.constructor=b}},{}],21:[function(d,f,g){(function(b){function a(a,b,e){if(!b)return g.encodeBase64Packet(a,e);var c=new FileReader;c.onload=function(){a.data=c.result;g.encodePacket(a,
b,!0,e)};return c.readAsArrayBuffer(a.data)}function e(a,b,e){var c=Array(a.length);e=k(a.length,e);for(var d=function(a,e,d){b(e,function(b,e){c[a]=e;d(b,c)})},h=0;h<a.length;h++)d(h,a[h],e)}var c=d("./keys"),h=d("arraybuffer.slice"),f=d("base64-arraybuffer"),k=d("after"),p=d("utf8"),m=navigator.userAgent.match(/Android/i);g.protocol=3;var n=g.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},q=c(n),s={type:"error",data:"parser error"},u=d("blob");g.encodePacket=function(e,c,d,h){"function"==
typeof c&&(h=c,c=!1);"function"==typeof d&&(h=d,d=null);var f=void 0===e.data?void 0:e.data.buffer||e.data;if(b.ArrayBuffer&&f instanceof ArrayBuffer){if(c){d=e.data;c=new Uint8Array(d);d=new Uint8Array(1+d.byteLength);d[0]=n[e.type];for(e=0;e<c.length;e++)d[e+1]=c[e];e=h(d.buffer)}else e=g.encodeBase64Packet(e,h);return e}if(u&&f instanceof b.Blob)return c?m?e=a(e,c,h):(c=new Uint8Array(1),c[0]=n[e.type],e=new u([c.buffer,e.data]),e=h(e)):e=g.encodeBase64Packet(e,h),e;c=n[e.type];void 0!==e.data&&
(c+=d?p.encode(String(e.data)):String(e.data));return h(""+c)};g.encodeBase64Packet=function(a,e){var c="b"+g.packets[a.type];if(u&&a.data instanceof u){var d=new FileReader;d.onload=function(){var a=d.result.split(",")[1];e(c+a)};return d.readAsDataURL(a.data)}var h;try{h=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(f){h=new Uint8Array(a.data);for(var k=Array(h.length),n=0;n<h.length;n++)k[n]=h[n];h=String.fromCharCode.apply(null,k)}c+=b.btoa(h);return e(c)};g.decodePacket=function(a,
b,e){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return g.decodeBase64Packet(a.substr(1),b);if(e)try{a=p.decode(a)}catch(c){return s}e=a.charAt(0);return Number(e)==e&&q[e]?1<a.length?{type:q[e],data:a.substring(1)}:{type:q[e]}:s}e=(new Uint8Array(a))[0];a=h(a,1);u&&"blob"===b&&(a=new u([a]));return{type:q[e],data:a}};g.decodeBase64Packet=function(a,e){var c=q[a.charAt(0)];if(!b.ArrayBuffer)return{type:c,data:{base64:!0,data:a.substr(1)}};var d=f.decode(a.substr(1));"blob"===e&&u&&(d=new u([d]));
return{type:c,data:d}};g.encodePayload=function(a,b,c){"function"==typeof b&&(c=b,b=null);if(b)return u&&!m?g.encodePayloadAsBlob(a,c):g.encodePayloadAsArrayBuffer(a,c);if(!a.length)return c("0:");e(a,function(a,e){g.encodePacket(a,b,!0,function(a){e(null,a.length+":"+a)})},function(a,b){return c(b.join(""))})};g.decodePayload=function(a,b,e){if("string"!=typeof a)return g.decodePayloadAsBinary(a,b,e);"function"===typeof b&&(e=b,b=null);var c;if(""==a)return e(s,0,1);c="";for(var d,h,f=0,k=a.length;f<
k;f++)if(h=a.charAt(f),":"!=h)c+=h;else{if(""==c||c!=(d=Number(c)))return e(s,0,1);h=a.substr(f+1,d);if(c!=h.length)return e(s,0,1);if(h.length){c=g.decodePacket(h,b,!0);if(s.type==c.type&&s.data==c.data)return e(s,0,1);if(!1===e(c,f+d,k))return}f+=d;c=""}if(""!=c)return e(s,0,1)};g.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));e(a,function(a,b){g.encodePacket(a,!0,!0,function(a){return b(null,a)})},function(a,e){var c=e.reduce(function(a,b){var e;e="string"===
typeof b?b.length:b.byteLength;return a+e.toString().length+e+2},0),d=new Uint8Array(c),h=0;e.forEach(function(a){var b="string"===typeof a,e=a;if(b){for(var e=new Uint8Array(a.length),c=0;c<a.length;c++)e[c]=a.charCodeAt(c);e=e.buffer}b?d[h++]=0:d[h++]=1;a=e.byteLength.toString();for(c=0;c<a.length;c++)d[h++]=parseInt(a[c]);d[h++]=255;e=new Uint8Array(e);for(c=0;c<e.length;c++)d[h++]=e[c]});return b(d.buffer)})};g.encodePayloadAsBlob=function(a,b){e(a,function(a,b){g.encodePacket(a,!0,!0,function(a){var e=
new Uint8Array(1);e[0]=1;if("string"===typeof a){for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d);a=c.buffer;e[0]=0}for(var c=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),h=new Uint8Array(c.length+1),d=0;d<c.length;d++)h[d]=parseInt(c[d]);h[c.length]=255;u&&(a=new u([e.buffer,h.buffer,a]),b(null,a))})},function(a,e){return b(new u(e))})};g.decodePayloadAsBinary=function(a,b,e){"function"===typeof b&&(e=b,b=null);for(var c=[],d=!1;0<a.byteLength;){for(var f=new Uint8Array(a),
k=0===f[0],n="",r=1;255!=f[r];r++){if(310<n.length){d=!0;break}n+=f[r]}if(d)return e(s,0,1);a=h(a,2+n.length);n=parseInt(n);f=h(a,0,n);if(k)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(m){for(k=new Uint8Array(f),f="",r=0;r<k.length;r++)f+=String.fromCharCode(k[r])}c.push(f);a=h(a,n)}var p=c.length;c.forEach(function(a,c){e(g.decodePacket(a,b,!0),c,p)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,
"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(d,f,g){f.exports=Object.keys||function(b){var a=[],e=Object.prototype.hasOwnProperty,c;for(c in b)e.call(b,c)&&a.push(c);return a}},{}],23:[function(d,f,g){function b(){}f.exports=function(a,e,c){function d(a,b){if(0>=d.count)throw Error("after called too many times");--d.count;a?(g=!0,e(a),e=c):0!==d.count||g||e(null,b)}var g=!1;c=c||b;d.count=a;return 0===a?e():d}},{}],24:[function(d,f,g){f.exports=function(b,a,e){var c=b.byteLength;a=a||0;
e=e||c;if(b.slice)return b.slice(a,e);0>a&&(a+=c);0>e&&(e+=c);e>c&&(e=c);if(a>=c||a>=e||0===c)return new ArrayBuffer(0);b=new Uint8Array(b);for(var c=new Uint8Array(e-a),d=0;a<e;a++,d++)c[d]=b[a];return c.buffer}},{}],25:[function(d,f,g){(function(b){g.encode=function(a){a=new Uint8Array(a);var e,c=a.length,d="";for(e=0;e<c;e+=3)d+=b[a[e]>>2],d+=b[(a[e]&3)<<4|a[e+1]>>4],d+=b[(a[e+1]&15)<<2|a[e+2]>>6],d+=b[a[e+2]&63];2===c%3?d=d.substring(0,d.length-1)+"=":1===c%3&&(d=d.substring(0,d.length-2)+"==");
return d};g.decode=function(a){var e=.75*a.length,c=a.length,d=0,g,f,p,m;"="===a[a.length-1]&&(e--,"="===a[a.length-2]&&e--);for(var n=new ArrayBuffer(e),q=new Uint8Array(n),e=0;e<c;e+=4)g=b.indexOf(a[e]),f=b.indexOf(a[e+1]),p=b.indexOf(a[e+2]),m=b.indexOf(a[e+3]),q[d++]=g<<2|f>>4,q[d++]=(f&15)<<4|p>>2,q[d++]=(p&3)<<6|m&63;return n}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(d,f,g){(function(b){function a(a,b){b=b||{};for(var c=new e,d=0;d<a.length;d++)c.append(a[d]);
return b.type?c.getBlob(b.type):c.getBlob()}var e=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,c;try{c=2==(new Blob(["hi"])).size}catch(d){c=!1}var g=e&&e.prototype.append&&e.prototype.getBlob;b=c?b.Blob:g?a:void 0;f.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],27:[function(d,f,g){(function(b){(function(a){function e(a){for(var b=[],e=0,c=a.length,d,h;e<c;)d=a.charCodeAt(e++),55296<=d&&56319>=d&&e<c?(h=a.charCodeAt(e++),
56320==(h&64512)?b.push(((d&1023)<<10)+(h&1023)+65536):(b.push(d),e--)):b.push(d);return b}function c(){if(s>=q)throw Error("Invalid byte index");var a=n[s]&255;s++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function d(){var a,b,e,h;if(s>q)throw Error("Invalid byte index");if(s==q)return!1;a=n[s]&255;s++;if(0==(a&128))return a;if(192==(a&224)){b=c();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=c();e=c();a=(a&15)<<12|b<<6|
e;if(2048<=a)return a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(b=c(),e=c(),h=c(),a=(a&15)<<18|b<<12|e<<6|h,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var r="object"==typeof g&&g,k="object"==typeof f&&f&&f.exports==r&&f,p="object"==typeof b&&b;if(p.global===p||p.window===p)a=p;var m=String.fromCharCode,n,q,s,p={version:"2.0.0",encode:function(a){a=e(a);for(var b=a.length,c=-1,d,h="";++c<b;){d=a[c];if(0==(d&4294967168))d=m(d);else{var g="";0==(d&4294965248)?
g=m(d>>6&31|192):0==(d&4294901760)?(g=m(d>>12&15|224),g+=m(d>>6&63|128)):0==(d&4292870144)&&(g=m(d>>18&7|240),g+=m(d>>12&63|128),g+=m(d>>6&63|128));d=g+=m(d&63|128)}h+=d}return h},decode:function(a){n=e(a);q=n.length;s=0;a=[];for(var b;!1!==(b=d());)a.push(b);b=a.length;for(var c=-1,g,f="";++c<b;)g=a[c],65535<g&&(g-=65536,f+=m(g>>>10&1023|55296),g=56320|g&1023),f+=m(g);return f}};if(r&&!r.nodeType)if(k)k.exports=p;else{a={}.hasOwnProperty;for(var u in p)a.call(p,u)&&(r[u]=p[u])}else a.utf8=p})(this)}).call(this,
"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],28:[function(d,f,g){(function(b){var a=/^[\],:{}\s]*$/,e=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,c=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,d=/(?:^|:|,)(?:\s*\[)+/g,g=/^\s+/,k=/\s+$/;f.exports=function(f){if("string"!=typeof f||!f)return null;f=f.replace(g,"").replace(k,"");if(b.JSON&&JSON.parse)return JSON.parse(f);if(a.test(f.replace(e,"@").replace(c,"]").replace(d,"")))return(new Function("return "+
f))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],29:[function(d,f,g){g.encode=function(b){var a="",e;for(e in b)b.hasOwnProperty(e)&&(a.length&&(a+="&"),a+=encodeURIComponent(e)+"="+encodeURIComponent(b[e]));return a};g.decode=function(b){var a={};b=b.split("&");for(var e=0,c=b.length;e<c;e++){var d=b[e].split("=");a[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return a}},{}],30:[function(d,f,g){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");f.exports=function(e){var c=e,d=e.indexOf("["),g=e.indexOf("]");-1!=d&&-1!=g&&(e=e.substring(0,d)+e.substring(d,g).replace(/:/g,";")+e.substring(g,e.length));e=b.exec(e||"");for(var f={},p=14;p--;)f[a[p]]=e[p]||"";-1!=d&&-1!=g&&(f.source=c,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=
!0);return f}},{}],31:[function(d,f,g){function b(b,c,d){return c?new a(b,c):new a(b)}d=function(){return this}();var a=d.WebSocket||d.MozWebSocket;f.exports=a?b:null;a&&(b.prototype=a.prototype)},{}],32:[function(d,f,g){(function(b){var a=d("isarray");f.exports=function(e){function c(e){if(!e)return!1;if(b.Buffer&&b.Buffer.isBuffer(e)||b.ArrayBuffer&&e instanceof ArrayBuffer||b.Blob&&e instanceof Blob||b.File&&e instanceof File)return!0;if(a(e))for(var d=0;d<e.length;d++){if(c(e[d]))return!0}else if(e&&
"object"==typeof e)for(d in e.toJSON&&(e=e.toJSON()),e)if(e.hasOwnProperty(d)&&c(e[d]))return!0;return!1}return c(e)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:33}],33:[function(d,f,g){f.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],34:[function(d,f,g){d=d("global");try{f.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(b){f.exports=!1}},{global:35}],35:[function(d,f,
g){f.exports=function(){return this}()},{}],36:[function(d,f,g){var b=[].indexOf;f.exports=function(a,e){if(b)return a.indexOf(e);for(var c=0;c<a.length;++c)if(a[c]===e)return c;return-1}},{}],37:[function(d,f,g){var b=Object.prototype.hasOwnProperty;g.keys=Object.keys||function(a){var e=[],c;for(c in a)b.call(a,c)&&e.push(c);return e};g.values=function(a){var e=[],c;for(c in a)b.call(a,c)&&e.push(a[c]);return e};g.merge=function(a,e){for(var c in e)b.call(e,c)&&(a[c]=e[c]);return a};g.length=function(a){return g.keys(a).length};
g.isEmpty=function(a){return 0==g.length(a)}},{}],38:[function(d,f,g){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");f.exports=function(e){e=b.exec(e||"");for(var c={},d=14;d--;)c[a[d]]=e[d]||
"";return c}},{}],39:[function(d,f,g){(function(b){var a=d("isarray"),e=d("./is-buffer");g.deconstructPacket=function(b){function d(b){if(!b)return b;if(e(b)){var c={_placeholder:!0,num:g.length};g.push(b);return c}if(a(b)){for(var c=Array(b.length),f=0;f<b.length;f++)c[f]=d(b[f]);return c}if("object"==typeof b&&!(b instanceof Date)){c={};for(f in b)c[f]=d(b[f]);return c}return b}var g=[];b.data=d(b.data);b.attachments=g.length;return{packet:b,buffers:g}};g.reconstructPacket=function(b,e){function d(b){if(b&&
b._placeholder)return e[b.num];if(a(b))for(var c=0;c<b.length;c++)b[c]=d(b[c]);else if(b&&"object"==typeof b)for(c in b)b[c]=d(b[c]);return b}b.data=d(b.data);b.attachments=void 0;return b};g.removeBlobs=function(c,d){function g(c,n,q){if(!c)return c;if(b.Blob&&c instanceof Blob||b.File&&c instanceof File){f++;var s=new FileReader;s.onload=function(){q?q[n]=this.result:p=this.result;--f||d(p)};s.readAsArrayBuffer(c)}else if(a(c))for(s=0;s<c.length;s++)g(c[s],s,c);else if(c&&"object"==typeof c&&!e(c))for(s in c)g(c[s],
s,c)}var f=0,p=c;g(p);f||d(p)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":41,isarray:42}],40:[function(d,f,g){function b(){}function a(a){var b,e=!1;b=""+a.type;if(g.BINARY_EVENT==a.type||g.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(e=!0,b+=a.nsp);null!=a.id&&(e&&(b+=",",e=!1),b+=a.id);null!=a.data&&(e&&(b+=","),b+=k.stringify(a.data));r("encoded %j as %s",a,b);return b}function e(b,e){p.removeBlobs(b,function(b){var c=p.deconstructPacket(b);
b=a(c.packet);c=c.buffers;c.unshift(b);e(c)})}function c(){this.reconstructor=null}function h(a){this.reconPack=a;this.buffers=[]}var r=d("debug")("socket.io-parser"),k=d("json3");d("isarray");f=d("component-emitter");var p=d("./binary"),m=d("./is-buffer");g.protocol=4;g.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");g.CONNECT=0;g.DISCONNECT=1;g.EVENT=2;g.ACK=3;g.ERROR=4;g.BINARY_EVENT=5;g.BINARY_ACK=6;g.Encoder=b;g.Decoder=c;b.prototype.encode=function(b,c){r("encoding packet %j",
b);if(g.BINARY_EVENT==b.type||g.BINARY_ACK==b.type)e(b,c);else{var d=a(b);c([d])}};f(c.prototype);c.prototype.add=function(a){if("string"==typeof a){a:{var b={},e=0;b.type=Number(a.charAt(0));if(null==g.types[b.type])a={type:g.ERROR,data:"parser error"};else{if(g.BINARY_EVENT==b.type||g.BINARY_ACK==b.type){for(b.attachments="";"-"!=a.charAt(++e);)b.attachments+=a.charAt(e);b.attachments=Number(b.attachments)}if("/"==a.charAt(e+1))for(b.nsp="";++e;){var c=a.charAt(e);if(","==c)break;b.nsp+=c;if(e+
1==a.length)break}else b.nsp="/";c=a.charAt(e+1);if(""!=c&&Number(c)==c){for(b.id="";++e;){c=a.charAt(e);if(null==c||Number(c)!=c){--e;break}b.id+=a.charAt(e);if(e+1==a.length)break}b.id=Number(b.id)}if(a.charAt(++e))try{b.data=k.parse(a.substr(e))}catch(d){a={type:g.ERROR,data:"parser error"};break a}r("decoded %s as %j",a,b);a=b}}g.BINARY_EVENT==a.type||g.BINARY_ACK==a.type?(this.reconstructor=new h(a),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(m(a)||
a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+a);};c.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};h.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=p.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),
a):null};h.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(d,f,g){(function(b){f.exports=function(a){return b.Buffer&&b.Buffer.isBuffer(a)||b.ArrayBuffer&&a instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],42:[function(d,f,g){f.exports=d(33)},{}],43:[function(d,f,g){(function(b){function a(b){if(a[b]!==f)return a[b];
var c;if("bug-string-char-index"==b)c="a"!="a"[0];else if("json"==b)c=a("json-stringify")&&a("json-parse");else{var d;if("json-stringify"==b){c=p.stringify;var g="function"==typeof c&&m;if(g){(d=function(){return 1}).toJSON=d;try{g="0"===c(0)&&"0"===c(new Number)&&'""'==c(new String)&&c(e)===f&&c(f)===f&&c()===f&&"1"===c(d)&&"[1]"==c([d])&&"[null]"==c([f])&&"null"==c(null)&&"[null,null,null]"==c([f,e,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==c({a:[d,!0,!1,null,"\x00\b\n\f\r\t"]})&&
"1"===c(null,d)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==c(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==c(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==c(new Date(-1))}catch(h){g=!1}}c=g}if("json-parse"==b){c=p.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){d=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var k=5==d.a.length&&1===d.a[0];if(k){try{k=!c('"\t"')}catch(K){}if(k)try{k=1!==
c("01")}catch(n){}if(k)try{k=1!==c("1.")}catch(l){}}}}catch(s){k=!1}c=k}}return a[b]=!!c}var e={}.toString,c,d,f,k="object"==typeof JSON&&JSON,p="object"==typeof g&&g&&!g.nodeType&&g;p&&k?(p.stringify=k.stringify,p.parse=k.parse):p=b.JSON=k||{};var m=new Date(-0xc782b5b800cec);try{m=-109252==m.getUTCFullYear()&&0===m.getUTCMonth()&&1===m.getUTCDate()&&10==m.getUTCHours()&&37==m.getUTCMinutes()&&6==m.getUTCSeconds()&&708==m.getUTCMilliseconds()}catch(n){}if(!a("json")){var q=a("bug-string-char-index");
if(!m)var s=Math.floor,u=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(a,b){return u[b]+365*(a-1970)+s((a-1969+(b=+(1<b)))/4)-s((a-1901+b)/100)+s((a-1601+b)/400)};(c={}.hasOwnProperty)||(c=function(a){var b={},d;(b.__proto__=null,b.__proto__={toString:1},b).toString!=e?c=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(d=b.constructor,c=function(a){var b=(this.constructor||d).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return c.call(this,
a)});var x={"boolean":1,number:1,string:1,undefined:1};d=function(a,b){var g=0,f,k,m;(f=function(){this.valueOf=0}).prototype.valueOf=0;k=new f;for(m in k)c.call(k,m)&&g++;f=k=null;g?d=2==g?function(a,b){var d={},g="[object Function]"==e.call(a),f;for(f in a)g&&"prototype"==f||c.call(d,f)||!(d[f]=1)||!c.call(a,f)||b(f)}:function(a,b){var d="[object Function]"==e.call(a),g,f;for(g in a)d&&"prototype"==g||!c.call(a,g)||(f="constructor"===g)||b(g);(f||c.call(a,g="constructor"))&&b(g)}:(k="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
d=function(a,b){var d="[object Function]"==e.call(a),g,f;if(f=!d&&"function"!=typeof a.constructor)f=typeof a.hasOwnProperty,f="object"==f?!!a.hasOwnProperty:!x[f];f=f?a.hasOwnProperty:c;for(g in a)d&&"prototype"==g||!f.call(a,g)||b(g);for(d=k.length;g=k[--d];f.call(a,g)&&b(g));});return d(a,b)};if(!a("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},w=function(a,b){return("000000"+(b||0)).slice(-a)},F=function(a){var b='"',c=0,e=a.length,d=10<e&&q,g;for(d&&
(g=a.split(""));c<e;c++){var f=a.charCodeAt(c);switch(f){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=C[f];break;default:if(32>f){b+="\\u00"+w(2,f.toString(16));break}b+=d?g[c]:q?a.charAt(c):a[c]}}return b+'"'},E=function(a,b,g,k,m,n,p){var l,q,x,u,v,y,B,C,A;try{l=b[a]}catch(D){}if("object"==typeof l&&l)if(q=e.call(l),"[object Date]"!=q||c.call(l,"toJSON"))"function"==typeof l.toJSON&&("[object Number]"!=q&&"[object String]"!=q&&"[object Array]"!=q||c.call(l,"toJSON"))&&(l=l.toJSON(a));
else if(l>-1/0&&l<1/0){if(z){u=s(l/864E5);for(q=s(u/365.2425)+1970-1;z(q+1,0)<=u;q++);for(x=s((u-z(q,0))/30.42);z(q,x+1)<=u;x++);u=1+u-z(q,x);v=(l%864E5+864E5)%864E5;y=s(v/36E5)%24;B=s(v/6E4)%60;C=s(v/1E3)%60;v%=1E3}else q=l.getUTCFullYear(),x=l.getUTCMonth(),u=l.getUTCDate(),y=l.getUTCHours(),B=l.getUTCMinutes(),C=l.getUTCSeconds(),v=l.getUTCMilliseconds();l=(0>=q||1E4<=q?(0>q?"-":"+")+w(6,0>q?-q:q):w(4,q))+"-"+w(2,x+1)+"-"+w(2,u)+"T"+w(2,y)+":"+w(2,B)+":"+w(2,C)+"."+w(3,v)+"Z"}else l=null;g&&(l=
g.call(b,a,l));if(null===l)return"null";q=e.call(l);if("[object Boolean]"==q)return""+l;if("[object Number]"==q)return l>-1/0&&l<1/0?""+l:"null";if("[object String]"==q)return F(""+l);if("object"==typeof l){for(a=p.length;a--;)if(p[a]===l)throw TypeError();p.push(l);A=[];b=n;n+=m;if("[object Array]"==q){x=0;for(a=l.length;x<a;x++)q=E(x,l,g,k,m,n,p),A.push(q===f?"null":q);a=A.length?m?"[\n"+n+A.join(",\n"+n)+"\n"+b+"]":"["+A.join(",")+"]":"[]"}else d(k||l,function(a){var b=E(a,l,g,k,m,n,p);b!==f&&
A.push(F(a)+":"+(m?" ":"")+b)}),a=A.length?m?"{\n"+n+A.join(",\n"+n)+"\n"+b+"}":"{"+A.join(",")+"}":"{}";p.pop();return a}};p.stringify=function(a,b,c){var d,g,f,h;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(h=e.call(b)))g=b;else if("[object Array]"==h){f={};for(var k=0,l=b.length,m;k<l;m=b[k++],(h=e.call(m),"[object String]"==h||"[object Number]"==h)&&(f[m]=1));}if(c)if("[object Number]"==(h=e.call(c))){if(0<(c-=c%1))for(d="",10<c&&(c=10);d.length<c;d+=" ");}else"[object String]"==
h&&(d=10>=c.length?c:c.slice(0,10));return E("",(m={},m[""]=a,m),g,f,d,"",[])}}if(!a("json-parse")){var J=String.fromCharCode,I={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},l,B,v=function(){l=B=null;throw SyntaxError();},y=function(){for(var a=B,b=a.length,c,e,d,g,f;l<b;)switch(f=a.charCodeAt(l),f){case 9:case 10:case 13:case 32:l++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=q?a.charAt(l):a[l],l++,c;case 34:c="@";for(l++;l<b;)if(f=a.charCodeAt(l),32>f)v();
else if(92==f)switch(f=a.charCodeAt(++l),f){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=I[f];l++;break;case 117:e=++l;for(d=l+4;l<d;l++)f=a.charCodeAt(l),48<=f&&57>=f||97<=f&&102>=f||65<=f&&70>=f||v();c+=J("0x"+a.slice(e,l));break;default:v()}else{if(34==f)break;f=a.charCodeAt(l);for(e=l;32<=f&&92!=f&&34!=f;)f=a.charCodeAt(++l);c+=a.slice(e,l)}if(34==a.charCodeAt(l))return l++,c;v();default:e=l;45==f&&(g=!0,f=a.charCodeAt(++l));if(48<=f&&57>=f){for(48==f&&(f=a.charCodeAt(l+
1),48<=f&&57>=f)&&v();l<b&&(f=a.charCodeAt(l),48<=f&&57>=f);l++);if(46==a.charCodeAt(l)){for(d=++l;d<b&&(f=a.charCodeAt(d),48<=f&&57>=f);d++);d==l&&v();l=d}f=a.charCodeAt(l);if(101==f||69==f){f=a.charCodeAt(++l);43!=f&&45!=f||l++;for(d=l;d<b&&(f=a.charCodeAt(d),48<=f&&57>=f);d++);d==l&&v();l=d}return+a.slice(e,l)}g&&v();if("true"==a.slice(l,l+4))return l+=4,!0;if("false"==a.slice(l,l+5))return l+=5,!1;if("null"==a.slice(l,l+4))return l+=4,null;v()}return"$"},D=function(a){var b,c;"$"==a&&v();if("string"==
typeof a){if("@"==(q?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=y();if("]"==a)break;c&&(","==a?(a=y(),"]"==a&&v()):v());","==a&&v();b.push(D(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=y();if("}"==a)break;c&&(","==a?(a=y(),"}"==a&&v()):v());","!=a&&"string"==typeof a&&"@"==(q?a.charAt(0):a[0])&&":"==y()||v();b[a.slice(1)]=D(y())}return b}v()}return a},H=function(a,b,c){c=G(a,b,c);c===f?delete a[b]:a[b]=c},G=function(a,b,c){var f=a[b],g;if("object"==typeof f&&f)if("[object Array]"==
e.call(f))for(g=f.length;g--;)H(f,g,c);else d(f,function(a){H(f,a,c)});return c.call(a,b,f)};p.parse=function(a,b){var c,d;l=0;B=""+a;c=D(y());"$"!=y()&&v();l=B=null;return b&&"[object Function]"==e.call(b)?G((d={},d[""]=c,d),"",b):c}}}})(this)},{}],44:[function(d,f,g){f.exports=function(b,a){for(var e=[],c=(a=a||0)||0;c<b.length;c++)e[c-a]=b[c];return e}},{}]},{},[1])(1)});
(function(t,d){"function"===typeof define&&define.amd?define(d):"object"===typeof exports?module.exports=d():t.gyro=d()})(this,function(){var t={x:null,y:null,z:null,alpha:null,beta:null,gamma:null},d={x:0,y:0,z:0,alpha:0,beta:0,gamma:0},f=null,g=[],b={frequency:500,calibrate:function(){for(var a in t)d[a]="number"===typeof t[a]?t[a]:0},getOrientation:function(){return t},startTracking:function(a){f=setInterval(function(){a(t)},b.frequency)},stopTracking:function(){clearInterval(f)},hasFeature:function(a){for(var b in g)if(a==
g[b])return!0;return!1},getFeatures:function(){return g}};window&&window.addEventListener&&function(){function a(b){g.push("MozOrientation");b.target.removeEventListener("MozOrientation",a,!0);b.target.addEventListener("MozOrientation",function(a){t.x=a.x-d.x;t.y=a.y-d.y;t.z=a.z-d.z},!0)}function b(a){g.push("devicemotion");a.target.removeEventListener("devicemotion",b,!0);a.target.addEventListener("devicemotion",function(a){t.x=a.accelerationIncludingGravity.x-d.x;t.y=a.accelerationIncludingGravity.y-
d.y;t.z=a.accelerationIncludingGravity.z-d.z},!0)}function c(a){g.push("deviceorientation");a.target.removeEventListener("deviceorientation",c,!0);a.target.addEventListener("deviceorientation",function(a){t.alpha=a.alpha-d.alpha;t.beta=a.beta-d.beta;t.gamma=a.gamma-d.gamma},!0)}window.addEventListener("MozOrientation",a,!0);window.addEventListener("devicemotion",b,!0);window.addEventListener("deviceorientation",c,!0)}();return b});
(function(t){var d=t.rc=t.rc||{},f=io("http://www.rcjs.me:8000");d.initController=function(c,h){f.removeAllListeners("connection-error");f.removeAllListeners("connection-success");f.on("connection-error",function(a){h({error:a})});f.on("connection-success",function(c){c&&(d.send=g,d.disconnect=b,d.startAccelerometer=a,d.stopAccelerometer=e,h({success:!0}))});f.emit("initialize-controller",{id:c})};var g=function(a,b){b._eventType=a;f.emit("controller-event",b)},b=function(a){f.on("application-disconnect",
function(b){a()})},a=function(){gyro.startTracking(function(a){g("rc_accelerometer",a)})},e=function(){gyro.stopTracking()}})(window);(function(t){(t.rc=t.rc||{}).events={BUTTON_PRESS:"rc_button_press",BUTTON_RELEASE:"rc_button_release",TRACKPAD_PRESS:"rc_trackpad_press",TRACKPAD_MOVE:"rc_trackpad_move",TRACKPAD_RELEASE:"rc_trackpad_release",ACCELEROMETER:"rc_accelerometer"}})(window);
(function(t,d){function f(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)}var g=t.rc=t.rc||{},b=function(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a}();g.widgets={Button:function(a,e,c,h,r){var k=d.createElement("div");k.style.position="absolute";k.style.top=c+"px";k.style.left=e+"px";k.style.width=h+"px";k.style.height=r+"px";k.className="rc-button";k.innerHTML=a;e=function(b){g.send(g.events.BUTTON_PRESS,{name:a})};c=function(b){g.send(g.events.BUTTON_RELEASE,{name:a})};b?(f(k,"touchstart",e),f(k,"touchend",c)):(f(k,"mousedown",e),f(k,"mouseup",c));return k},Trackpad:function(a,e,c,h,r,k,p){k=k||1;p=p||1;var m=d.createElement("div");
m.style.position="absolute";m.style.top=c+"px";m.style.left=e+"px";m.style.width=h+"px";m.style.height=r+"px";m.className="rc-trackpad";var n=function(a,b){relX=a-e;relY=b-c;return{x:relX*k/h,y:relY*p/r}},q=!1,s=function(b){q=!0;b=_isMobile?b.changedTouches[0]:b;b=n(b.pageX,b.pageY);g.send(g.events.TRACKPAD_PRESS,{name:a,x:b.x,y:b.y})},u=function(b){q&&(b=_isMobile?b.changedTouches[0]:b,b=n(b.pageX,b.pageY),g.send(g.events.TRACKPAD_MOVE,{name:a,x:b.x,y:b.y}))},t=function(b){q=!1;b=_isMobile?b.changedTouches[0]:
b;b=n(b.pageX,b.pageY);g.send(g.events.TRACKPAD_RELEASE,{name:a,x:b.x,y:b.y})};b?(f(m,"touchstart",s),f(m,"touchmove",u),f(m,"touchend",t)):(f(m,"mousedown",s),f(m,"mousemove",u),f(m,"mouseup",t));return m}}})(window,document);