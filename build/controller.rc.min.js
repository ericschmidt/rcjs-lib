!function(u){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=u();else if("function"==typeof define&&define.amd)define([],u);else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self);d.io=u()}}(function(){return function d(f,g,a){function c(b,p){if(!g[b]){if(!f[b]){var m="function"==typeof require&&require;if(!p&&m)return m(b,!0);if(e)return e(b,!0);throw Error("Cannot find module '"+b+"'");}m=g[b]={exports:{}};f[b][0].call(m.exports,
function(a){var e=f[b][1][a];return c(e?e:a)},m,m.exports,d,f,g,a)}return g[b].exports}for(var e="function"==typeof require&&require,b=0;b<a.length;b++)c(a[b]);return c}({1:[function(d,f,g){f.exports=d("./lib/")},{"./lib/":2}],2:[function(d,f,g){function a(a,e){"object"==typeof a&&(e=a,a=void 0);e=e||{};var d=c(a),n=d.source,q=d.id;e.forceNew||e["force new connection"]||!1===e.multiplex?(h("ignoring socket cache for %s",n),n=b(n,e)):(p[q]||(h("new io instance for %s",n),p[q]=b(n,e)),n=p[q]);return n.socket(d.path)}
var c=d("./url"),e=d("socket.io-parser"),b=d("./manager"),h=d("debug")("socket.io-client");f.exports=g=a;var p=g.managers={};g.protocol=e.protocol;g.connect=a;g.Manager=d("./manager");g.Socket=d("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(d,f,g){function a(e,c){if(!(this instanceof a))return new a(e,c);e&&"object"==typeof e&&(c=e,e=void 0);c=c||{};c.path=c.path||"/socket.io";this.nsps={};this.subs=[];this.opts=c;this.reconnection(!1!==c.reconnection);
this.reconnectionAttempts(c.reconnectionAttempts||Infinity);this.reconnectionDelay(c.reconnectionDelay||1E3);this.reconnectionDelayMax(c.reconnectionDelayMax||5E3);this.timeout(null==c.timeout?2E4:c.timeout);this.readyState="closed";this.uri=e;this.attempts=this.connected=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new b.Encoder;this.decoder=new b.Decoder;(this.autoConnect=!1!==c.autoConnect)&&this.open()}d("./url");var c=d("engine.io-client"),e=d("./socket");g=d("component-emitter");var b=
d("socket.io-parser"),h=d("./on"),p=d("component-bind");d("object-component");var m=d("debug")("socket.io-client:manager");f.exports=a;a.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};g(a.prototype);a.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};a.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;
this._reconnectionAttempts=a;return this};a.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;return this};a.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};a.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};a.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||
!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())};a.prototype.open=a.prototype.connect=function(a){m("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;m("opening %s",this.uri);var e=this.engine=c(this.uri,this.opts),b=this;this.readyState="opening";var q=h(e,"open",function(){b.onopen();a&&a()}),s=h(e,"error",function(e){m("connect_error");b.cleanup();b.readyState="closed";b.emitAll("connect_error",e);if(a){var c=Error("Connection error");
c.data=e;a(c)}b.maybeReconnectOnOpen()});if(!1!==this._timeout){var d=this._timeout;m("connect attempt will timeout after %d",d);var y=setTimeout(function(){m("connect attempt timed out after %d",d);q.destroy();e.close();e.emit("error","timeout");b.emitAll("connect_timeout",d)},d);this.subs.push({destroy:function(){clearTimeout(y)}})}this.subs.push(q);this.subs.push(s);return this};a.prototype.onopen=function(){m("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(h(a,
"data",p(this,"ondata")));this.subs.push(h(this.decoder,"decoded",p(this,"ondecoded")));this.subs.push(h(a,"error",p(this,"onerror")));this.subs.push(h(a,"close",p(this,"onclose")))};a.prototype.ondata=function(a){this.decoder.add(a)};a.prototype.ondecoded=function(a){this.emit("packet",a)};a.prototype.onerror=function(a){m("error",a);this.emitAll("error",a)};a.prototype.socket=function(a){var c=this.nsps[a];if(!c){c=new e(this,a);this.nsps[a]=c;var b=this;c.on("connect",function(){b.connected++})}return c};
a.prototype.destroy=function(a){--this.connected||this.close()};a.prototype.packet=function(a){m("writing packet %j",a);var c=this;c.encoding?c.packetBuffer.push(a):(c.encoding=!0,this.encoder.encode(a,function(a){for(var e=0;e<a.length;e++)c.engine.write(a[e]);c.encoding=!1;c.processPacketQueue()}))};a.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};a.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();
this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};a.prototype.close=a.prototype.disconnect=function(){this.skipReconnect=!0;this.engine.close()};a.prototype.onclose=function(a){m("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};a.prototype.reconnect=function(){if(this.reconnecting)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)m("reconnect failed"),this.emitAll("reconnect_failed"),
this.reconnecting=!1;else{var c=this.attempts*this.reconnectionDelay(),c=Math.min(c,this.reconnectionDelayMax());m("will wait %dms before reconnect attempt",c);this.reconnecting=!0;var e=setTimeout(function(){m("attempting reconnect");a.emitAll("reconnect_attempt",a.attempts);a.emitAll("reconnecting",a.attempts);a.open(function(c){c?(m("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",c.data)):(m("reconnect success"),a.onreconnect())})},c);this.subs.push({destroy:function(){clearTimeout(e)}})}};
a.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,"object-component":37,"socket.io-parser":40}],4:[function(d,f,g){f.exports=function(a,c,e){a.on(c,e);return{destroy:function(){a.removeListener(c,e)}}}},{}],5:[function(d,f,g){function a(a,c){this.io=a;this.nsp=c;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();
this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.subEvents()}var c=d("socket.io-parser");g=d("component-emitter");var e=d("to-array"),b=d("./on"),h=d("component-bind"),p=d("debug")("socket.io-client:socket"),m=d("has-binary");d("indexof");f.exports=a;var l={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},r=g.prototype.emit;g(a.prototype);a.prototype.subEvents=function(){var a=
this.io;this.subs=[b(a,"open",h(this,"onopen")),b(a,"packet",h(this,"onpacket")),b(a,"close",h(this,"onclose"))]};a.prototype.open=a.prototype.connect=function(){if(this.connected)return this;this.io.open();if("open"==this.io.readyState)this.onopen();return this};a.prototype.send=function(){var a=e(arguments);a.unshift("message");this.emit.apply(this,a);return this};a.prototype.emit=function(a){if(l.hasOwnProperty(a))return r.apply(this,arguments),this;var q=e(arguments),b=c.EVENT;m(q)&&(b=c.BINARY_EVENT);
b={type:b,data:q};"function"==typeof q[q.length-1]&&(p("emitting packet with ack id %d",this.ids),this.acks[this.ids]=q.pop(),b.id=this.ids++);this.connected?this.packet(b):this.sendBuffer.push(b);return this};a.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};a.prototype.onopen=function(){p("transport is open - connecting");"/"!=this.nsp&&this.packet({type:c.CONNECT})};a.prototype.onclose=function(a){p("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};
a.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case c.CONNECT:this.onconnect();break;case c.EVENT:this.onevent(a);break;case c.BINARY_EVENT:this.onevent(a);break;case c.ACK:this.onack(a);break;case c.BINARY_ACK:this.onack(a);break;case c.DISCONNECT:this.ondisconnect();break;case c.ERROR:this.emit("error",a.data)}};a.prototype.onevent=function(a){var c=a.data||[];p("emitting event %j",c);null!=a.id&&(p("attaching ack callback to event"),c.push(this.ack(a.id)));this.connected?r.apply(this,
c):this.receiveBuffer.push(c)};a.prototype.ack=function(a){var q=this,b=!1;return function(){if(!b){b=!0;var h=e(arguments);p("sending ack %j",h);var y=m(h)?c.BINARY_ACK:c.ACK;q.packet({type:y,id:a,data:h})}}};a.prototype.onack=function(a){p("calling ack %s with %j",a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};a.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};a.prototype.emitBuffered=function(){var a;for(a=
0;a<this.receiveBuffer.length;a++)r.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};a.prototype.ondisconnect=function(){p("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};a.prototype.destroy=function(){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.io.destroy(this)};a.prototype.close=a.prototype.disconnect=function(){if(!this.connected)return this;
p("performing disconnect (%s)",this.nsp);this.packet({type:c.DISCONNECT});this.destroy();this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,indexof:36,"socket.io-parser":40,"to-array":44}],6:[function(d,f,g){(function(a){var c=d("parseuri"),e=d("debug")("socket.io-client:url");f.exports=function(b,h){var d=b;h=h||a.location;null==b&&(b=h.protocol+"//"+h.hostname);"string"==typeof b&&("/"==b.charAt(0)&&"undefined"!=typeof h&&
(b=h.hostname+b),/^(https?|wss?):\/\//.test(b)||(e("protocol-less url %s",b),b="undefined"!=typeof h?h.protocol+"//"+b:"https://"+b),e("parse %s",b),d=c(b));d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443"));d.path=d.path||"/";d.id=d.protocol+"://"+d.host+":"+d.port;d.href=d.protocol+"://"+d.host+(h&&h.port==d.port?"":":"+d.port);return d}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:9,parseuri:38}],7:[function(d,
f,g){var a=[].slice;f.exports=function(c,e){"string"==typeof e&&(e=c[e]);if("function"!=typeof e)throw Error("bind() requires a function");var b=a.call(arguments,2);return function(){return e.apply(c,b.concat(a.call(arguments)))}}},{}],8:[function(d,f,g){function a(c){if(c){for(var e in a.prototype)c[e]=a.prototype[e];return c}}f.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,e){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(e);return this};
a.prototype.once=function(a,e){function b(){h.off(a,b);e.apply(this,arguments)}var h=this;this._callbacks=this._callbacks||{};b.fn=e;this.on(a,b);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,e){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var b=this._callbacks[a];if(!b)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var h,d=0;d<b.length;d++)if(h=
b[d],h===e||h.fn===e){b.splice(d,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),b=this._callbacks[a];if(b)for(var b=b.slice(0),h=0,d=b.length;h<d;++h)b[h].apply(this,e);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],9:[function(d,f,g){function a(c){return a.enabled(c)?function(b){b instanceof
Error&&(b=b.stack||b.message);var h=new Date,d=h-(a[c]||h);a[c]=h;b=c+" "+b+" +"+a.humanize(d);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}f.exports=a;a.names=[];a.skips=[];a.enable=function(c){try{localStorage.debug=c}catch(b){}for(var h=(c||"").split(/[\s,]+/),d=h.length,m=0;m<d;m++)c=h[m].replace("*",".*?"),"-"===c[0]?a.skips.push(new RegExp("^"+c.substr(1)+"$")):a.names.push(new RegExp("^"+c+"$"))};a.disable=function(){a.enable("")};
a.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};a.enabled=function(c){for(var b=0,h=a.skips.length;b<h;b++)if(a.skips[b].test(c))return!1;b=0;for(h=a.names.length;b<h;b++)if(a.names[b].test(c))return!0;return!1};try{window.localStorage&&a.enable(localStorage.debug)}catch(c){}},{}],10:[function(d,f,g){f.exports=d("./lib/")},{"./lib/":11}],11:[function(d,f,g){f.exports=d("./socket");f.exports.parser=d("engine.io-parser")},{"./socket":12,
"engine.io-parser":21}],12:[function(d,f,g){(function(a){function c(e,b){if(!(this instanceof c))return new c(e,b);b=b||{};e&&"object"==typeof e&&(b=e,e=null);e&&(e=l(e),b.host=e.host,b.secure="https"==e.protocol||"wss"==e.protocol,b.port=e.port,e.query&&(b.query=e.query));this.secure=null!=b.secure?b.secure:a.location&&"https:"==location.protocol;if(b.host){var h=b.host.split(":");b.hostname=h.shift();h.length&&(b.port=h.pop())}this.agent=b.agent||!1;this.hostname=b.hostname||(a.location?location.hostname:
"localhost");this.port=b.port||(a.location&&location.port?location.port:this.secure?443:80);this.query=b.query||{};"string"==typeof this.query&&(this.query=n.decode(this.query));this.upgrade=!1!==b.upgrade;this.path=(b.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!b.forceJSONP;this.jsonp=!1!==b.jsonp;this.forceBase64=!!b.forceBase64;this.enablesXDR=!!b.enablesXDR;this.timestampParam=b.timestampParam||"t";this.timestampRequests=b.timestampRequests;this.transports=b.transports||["polling",
"websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=b.policyPort||843;this.rememberUpgrade=b.rememberUpgrade||!1;this.open();this.binaryType=null;this.onlyBinaryUpgrades=b.onlyBinaryUpgrades}var e=d("./transports"),b=d("component-emitter"),h=d("debug")("engine.io-client:socket"),g=d("indexof"),m=d("engine.io-parser"),l=d("parseuri"),r=d("parsejson"),n=d("parseqs");f.exports=c;c.priorWebsocketSuccess=!1;b(c.prototype);c.protocol=m.protocol;c.Socket=c;c.Transport=
d("./transport");c.transports=d("./transports");c.parser=d("engine.io-parser");c.prototype.createTransport=function(a){h('creating transport "%s"',a);var c=this.query,b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);b.EIO=m.protocol;b.transport=a;this.id&&(b.sid=this.id);return new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,
timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};c.prototype.open=function(){var a;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0==this.transports.length){var b=this;setTimeout(function(){b.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(e){this.transports.shift();this.open();return}a.open();this.setTransport(a)};c.prototype.setTransport=
function(a){h("setting transport %s",a.name);var c=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){c.onDrain()}).on("packet",function(a){c.onPacket(a)}).on("error",function(a){c.onError(a)}).on("close",function(){c.onClose("transport close")})};c.prototype.probe=function(a){function b(){if(r.onlyBinaryUpgrades){var e=!this.supportsBinary&&r.transport.supportsBinary;f=f||e}f||(h('probe transport "%s" opened',
a),n.send([{type:"ping",data:"probe"}]),n.once("packet",function(b){f||("pong"==b.type&&"probe"==b.data?(h('probe transport "%s" pong',a),r.upgrading=!0,r.emit("upgrading",n),c.priorWebsocketSuccess="websocket"==n.name,h('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){f||"closed"==r.readyState||"closing"==r.readyState||(h("changing transport and sending upgrade packet"),p(),r.setTransport(n),n.send([{type:"upgrade"}]),r.emit("upgrade",n),n=null,r.upgrading=!1,r.flush())})):
(h('probe transport "%s" failed',a),b=Error("probe error"),b.transport=n.name,r.emit("upgradeError",b)))}))}function e(){f||(f=!0,p(),n.close(),n=null)}function d(c){var b=Error("probe error: "+c);b.transport=n.name;e();h('probe transport "%s" failed because of error: %s',a,c);r.emit("upgradeError",b)}function m(){d("transport closed")}function g(){d("socket closed")}function l(a){n&&a.name!=n.name&&(h('"%s" works - aborting "%s"',a.name,n.name),e())}function p(){n.removeListener("open",b);n.removeListener("error",
d);n.removeListener("close",m);r.removeListener("close",g);r.removeListener("upgrading",l)}h('probing transport "%s"',a);var n=this.createTransport(a,{probe:1}),f=!1,r=this;c.priorWebsocketSuccess=!1;n.once("open",b);n.once("error",d);n.once("close",m);this.once("close",g);this.once("upgrading",l);n.open()};c.prototype.onOpen=function(){h("socket open");this.readyState="open";c.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&
this.transport.pause){h("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};c.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(h('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(r(a.data));break;case "pong":this.setPing();break;case "error":var c=Error("server error");c.code=a.data;this.emit("error",c);break;case "message":this.emit("data",
a.data),this.emit("message",a.data)}else h('packet received with socket readyState "%s"',this.readyState)};c.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};c.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);
var c=this;c.pingTimeoutTimer=setTimeout(function(){if("closed"!=c.readyState)c.onClose("ping timeout")},a||c.pingInterval+c.pingTimeout)};c.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};c.prototype.ping=function(){this.sendPacket("ping")};c.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();
this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};c.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};c.prototype.write=c.prototype.send=function(a,
c){this.sendPacket("message",a,c);return this};c.prototype.sendPacket=function(a,c,b){a={type:a,data:c};this.emit("packetCreate",a);this.writeBuffer.push(a);this.callbackBuffer.push(b);this.flush()};c.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.onClose("forced close"),h("socket closing - telling transport to close"),this.transport.close();return this};c.prototype.onError=function(a){h("socket error %j",a);c.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",
a)};c.prototype.onClose=function(a,c){if("opening"==this.readyState||"open"==this.readyState){h('socket close with reason: "%s"',a);var b=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){b.writeBuffer=[];b.callbackBuffer=[];b.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,c)}};c.prototype.filterUpgrades=function(a){for(var c=
[],b=0,e=a.length;b<e;b++)~g(this.transports,a[b])&&c.push(a[b]);return c}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(d,f,g){function a(a){this.path=a.path;this.hostname=a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;
this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR}var c=d("engine.io-parser");d=d("component-emitter");f.exports=a;d(a.prototype);a.timestamps=0;a.prototype.onError=function(a,c){var d=Error(a);d.type="TransportError";d.description=c;this.emit("error",d);return this};a.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};a.prototype.close=function(){if("opening"==this.readyState||
"open"==this.readyState)this.doClose(),this.onClose();return this};a.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};a.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};a.prototype.onData=function(a){a=c.decodePacket(a,this.socket.binaryType);this.onPacket(a)};a.prototype.onPacket=function(a){this.emit("packet",a)};a.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,
"engine.io-parser":21}],14:[function(d,f,g){(function(a){var c=d("xmlhttprequest"),e=d("./polling-xhr"),b=d("./polling-jsonp"),h=d("./websocket");g.polling=function(d){var h=!1,g=!1,f=!1!==d.jsonp;a.location&&(g="https:"==location.protocol,(h=location.port)||(h=g?443:80),h=d.hostname!=location.hostname||h!=d.port,g=d.secure!=g);d.xdomain=h;d.xscheme=g;if("open"in new c(d)&&!d.forceJSONP)return new e(d);if(!f)throw Error("JSONP disabled");return new b(d)};g.websocket=h}).call(this,"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(d,f,g){(function(a){function c(){}function e(e){b.call(this,e);this.query=this.query||{};l||(a.___eio||(a.___eio=[]),l=a.___eio);this.index=l.length;var d=this;l.push(function(a){d.onData(a)});this.query.j=this.index;a.document&&a.addEventListener&&a.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=c)})}var b=d("./polling"),h=d("component-inherit");
f.exports=e;var g=/\n/g,m=/\\n/g,l;h(e,b);e.prototype.supportsBinary=!1;e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.form=null);b.prototype.doClose.call(this)};e.prototype.doPoll=function(){var a=this,c=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);c.async=!0;c.src=this.uri();c.onerror=function(c){a.onError("jsonp poll error",
c)};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(c,b);this.script=c;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype.doWrite=function(a,c){function b(){e();c()}function e(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(a){d.onError("jsonp polling iframe removal error",a)}try{w=document.createElement('<iframe src="javascript:0" name="'+
d.iframeId+'">')}catch(c){w=document.createElement("iframe"),w.name=d.iframeId,w.src="javascript:0"}w.id=d.iframeId;d.form.appendChild(w);d.iframe=w}var d=this;if(!this.form){var h=document.createElement("form"),l=document.createElement("textarea"),f=this.iframeId="eio_iframe_"+this.index,w;h.className="socketio";h.style.position="absolute";h.style.top="-1000px";h.style.left="-1000px";h.target=f;h.method="POST";h.setAttribute("accept-charset","utf-8");l.name="d";h.appendChild(l);document.body.appendChild(h);
this.form=h;this.area=l}this.form.action=this.uri();e();a=a.replace(m,"\\\n");this.area.value=a.replace(g,"\\n");try{this.form.submit()}catch(E){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==d.iframe.readyState&&b()}:this.iframe.onload=b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(d,f,g){(function(a){function c(){}function e(c){m.call(this,c);if(a.location){var b="https:"==
location.protocol,e=location.port;e||(e=b?443:80);this.xd=c.hostname!=a.location.hostname||e!=c.port;this.xs=c.secure!=b}}function b(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.create()}function h(){for(var a in b.requests)b.requests.hasOwnProperty(a)&&b.requests[a].abort()}var g=d("xmlhttprequest"),
m=d("./polling"),l=d("component-emitter"),r=d("component-inherit"),n=d("debug")("engine.io-client:polling-xhr");f.exports=e;f.exports.Request=b;r(e,m);e.prototype.supportsBinary=!0;e.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;return new b(a)};e.prototype.doWrite=function(a,c){var b=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),e=this;b.on("success",
c);b.on("error",function(a){e.onError("xhr post error",a)});this.sendXhr=b};e.prototype.doPoll=function(){n("xhr poll");var a=this.request(),c=this;a.on("data",function(a){c.onData(a)});a.on("error",function(a){c.onError("xhr poll error",a)});this.pollXhr=a};l(b.prototype);b.prototype.create=function(){var c=this.xhr=new g({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),e=this;try{n("xhr open %s: %s",this.method,this.uri);c.open(this.method,this.uri,this.async);this.supportsBinary&&
(c.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(d){}"withCredentials"in c&&(c.withCredentials=!0);this.hasXDR()?(c.onload=function(){e.onLoad()},c.onerror=function(){e.onError(c.responseText)}):c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status||1223==c.status)e.onLoad();else setTimeout(function(){e.onError(c.status)},0)};n("xhr data %s",
this.data);c.send(this.data)}catch(h){setTimeout(function(){e.onError(h)},0);return}a.document&&(this.index=b.requestsCount++,b.requests[this.index]=this)};b.prototype.onSuccess=function(){this.emit("success");this.cleanup()};b.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};b.prototype.onError=function(a){this.emit("error",a);this.cleanup()};b.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=
c;try{this.xhr.abort()}catch(e){}a.document&&delete b.requests[this.index];this.xhr=null}};b.prototype.onLoad=function(){var a;try{var c;try{c=this.xhr.getResponseHeader("Content-Type")}catch(b){}a="application/octet-stream"===c?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(e){this.onError(e)}if(null!=a)this.onData(a)};b.prototype.hasXDR=function(){return"undefined"!==typeof a.XDomainRequest&&!this.xs&&this.enablesXDR};b.prototype.abort=function(){this.cleanup()};a.document&&
(b.requestsCount=0,b.requests={},a.attachEvent?a.attachEvent("onunload",h):a.addEventListener&&a.addEventListener("beforeunload",h))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(d,f,g){function a(a){var b=a&&a.forceBase64;if(!p||b)this.supportsBinary=!1;c.call(this,a)}var c=d("../transport"),e=d("parseqs"),b=d("engine.io-parser");g=d("component-inherit");var h=
d("debug")("engine.io-client:polling");f.exports=a;var p=function(){return null!=(new (d("xmlhttprequest"))({agent:this.agent,xdomain:!1})).responseType}();g(a,c);a.prototype.name="polling";a.prototype.doOpen=function(){this.poll()};a.prototype.pause=function(a){function c(){h("paused");b.readyState="paused";a()}var b=this;this.readyState="pausing";if(this.polling||!this.writable){var e=0;this.polling&&(h("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){h("pre-pause polling complete");
--e||c()}));this.writable||(h("we are currently writing - waiting to pause"),e++,this.once("drain",function(){h("pre-pause writing complete");--e||c()}))}else c()};a.prototype.poll=function(){h("polling");this.polling=!0;this.doPoll();this.emit("poll")};a.prototype.onData=function(a){var c=this;h("polling got data %s",a);b.decodePayload(a,this.socket.binaryType,function(a,b,e){if("opening"==c.readyState)c.onOpen();if("close"==a.type)return c.onClose(),!1;c.onPacket(a)});"closed"!=this.readyState&&
(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():h('ignoring poll - transport state "%s"',this.readyState))};a.prototype.doClose=function(){function a(){h("writing close packet");c.write([{type:"close"}])}var c=this;"open"==this.readyState?(h("transport open - closing"),a()):(h("transport not open - deferring close"),this.once("open",a))};a.prototype.write=function(a){var c=this;this.writable=!1;var e=function(){c.writable=!0;c.emit("drain")},c=this;b.encodePayload(a,
this.supportsBinary,function(a){c.doWrite(a,e)})};a.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",d="";!1!==this.timestampRequests&&(a[this.timestampParam]=+new Date+"-"+c.timestamps++);this.supportsBinary||a.sid||(a.b64=1);a=e.encode(a);this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(d=":"+this.port);a.length&&(a="?"+a);return b+"://"+this.hostname+d+this.path+a}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],
18:[function(d,f,g){function a(a){a&&a.forceBase64&&(this.supportsBinary=!1);c.call(this,a)}var c=d("../transport"),e=d("engine.io-parser"),b=d("parseqs");g=d("component-inherit");var h=d("debug")("engine.io-client:websocket"),p=d("ws");f.exports=a;g(a,c);a.prototype.name="websocket";a.prototype.supportsBinary=!0;a.prototype.doOpen=function(){if(this.check()){var a=this.uri();this.ws=new p(a,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";
this.addEventListeners()}};a.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(c){a.onData(c.data)};this.ws.onerror=function(c){a.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(a.prototype.onData=function(a){var b=this;setTimeout(function(){c.prototype.onData.call(b,a)},0)});a.prototype.write=function(a){var c=this;this.writable=!1;
for(var b=0,d=a.length;b<d;b++)e.encodePacket(a[b],this.supportsBinary,function(a){try{c.ws.send(a)}catch(b){h("websocket closed before onclose event")}});setTimeout(function(){c.writable=!0;c.emit("drain")},0)};a.prototype.onClose=function(){c.prototype.onClose.call(this)};a.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};a.prototype.uri=function(){var a=this.query||{},c=this.secure?"wss":"ws",e="";this.port&&("wss"==c&&443!=this.port||"ws"==c&&80!=this.port)&&(e=":"+
this.port);this.timestampRequests&&(a[this.timestampParam]=+new Date);this.supportsBinary||(a.b64=1);a=b.encode(a);a.length&&(a="?"+a);return c+"://"+this.hostname+e+this.path+a};a.prototype.check=function(){return!!p&&!("__initialize"in p&&this.name===a.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(d,f,g){var a=d("has-cors");f.exports=function(c){var e=c.xdomain,b=c.xscheme;c=c.enablesXDR;try{if("undefined"!=typeof XDomainRequest&&
!b&&c)return new XDomainRequest}catch(d){}try{if("undefined"!=typeof XMLHttpRequest&&(!e||a))return new XMLHttpRequest}catch(g){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}},{"has-cors":34}],20:[function(d,f,g){f.exports=function(a,c){var e=function(){};e.prototype=c.prototype;a.prototype=new e;a.prototype.constructor=a}},{}],21:[function(d,f,g){(function(a){function c(a,c,b){if(!c)return g.encodeBase64Packet(a,b);var e=new FileReader;e.onload=function(){a.data=e.result;g.encodePacket(a,
c,!0,b)};return e.readAsArrayBuffer(a.data)}function e(a,c,b){var e=Array(a.length);b=m(a.length,b);for(var d=function(a,b,d){c(b,function(c,b){e[a]=b;d(c,e)})},h=0;h<a.length;h++)d(h,a[h],b)}var b=d("./keys"),h=d("arraybuffer.slice"),f=d("base64-arraybuffer"),m=d("after"),l=d("utf8"),r=navigator.userAgent.match(/Android/i);g.protocol=3;var n=g.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},q=b(n),s={type:"error",data:"parser error"},t=d("blob");g.encodePacket=function(b,e,d,h){"function"==
typeof e&&(h=e,e=!1);"function"==typeof d&&(h=d,d=null);var f=void 0===b.data?void 0:b.data.buffer||b.data;if(a.ArrayBuffer&&f instanceof ArrayBuffer){if(e){d=b.data;e=new Uint8Array(d);d=new Uint8Array(1+d.byteLength);d[0]=n[b.type];for(b=0;b<e.length;b++)d[b+1]=e[b];b=h(d.buffer)}else b=g.encodeBase64Packet(b,h);return b}if(t&&f instanceof a.Blob)return e?r?b=c(b,e,h):(e=new Uint8Array(1),e[0]=n[b.type],b=new t([e.buffer,b.data]),b=h(b)):b=g.encodeBase64Packet(b,h),b;e=n[b.type];void 0!==b.data&&
(e+=d?l.encode(String(b.data)):String(b.data));return h(""+e)};g.encodeBase64Packet=function(c,b){var e="b"+g.packets[c.type];if(t&&c.data instanceof t){var d=new FileReader;d.onload=function(){var a=d.result.split(",")[1];b(e+a)};return d.readAsDataURL(c.data)}var h;try{h=String.fromCharCode.apply(null,new Uint8Array(c.data))}catch(f){h=new Uint8Array(c.data);for(var p=Array(h.length),n=0;n<h.length;n++)p[n]=h[n];h=String.fromCharCode.apply(null,p)}e+=a.btoa(h);return b(e)};g.decodePacket=function(a,
c,b){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return g.decodeBase64Packet(a.substr(1),c);if(b)try{a=l.decode(a)}catch(e){return s}b=a.charAt(0);return Number(b)==b&&q[b]?1<a.length?{type:q[b],data:a.substring(1)}:{type:q[b]}:s}b=(new Uint8Array(a))[0];a=h(a,1);t&&"blob"===c&&(a=new t([a]));return{type:q[b],data:a}};g.decodeBase64Packet=function(c,b){var e=q[c.charAt(0)];if(!a.ArrayBuffer)return{type:e,data:{base64:!0,data:c.substr(1)}};var d=f.decode(c.substr(1));"blob"===b&&t&&(d=new t([d]));
return{type:e,data:d}};g.encodePayload=function(a,c,b){"function"==typeof c&&(b=c,c=null);if(c)return t&&!r?g.encodePayloadAsBlob(a,b):g.encodePayloadAsArrayBuffer(a,b);if(!a.length)return b("0:");e(a,function(a,b){g.encodePacket(a,c,!0,function(a){b(null,a.length+":"+a)})},function(a,c){return b(c.join(""))})};g.decodePayload=function(a,c,b){if("string"!=typeof a)return g.decodePayloadAsBinary(a,c,b);"function"===typeof c&&(b=c,c=null);var e;if(""==a)return b(s,0,1);e="";for(var d,h,f=0,n=a.length;f<
n;f++)if(h=a.charAt(f),":"!=h)e+=h;else{if(""==e||e!=(d=Number(e)))return b(s,0,1);h=a.substr(f+1,d);if(e!=h.length)return b(s,0,1);if(h.length){e=g.decodePacket(h,c,!0);if(s.type==e.type&&s.data==e.data)return b(s,0,1);if(!1===b(e,f+d,n))return}f+=d;e=""}if(""!=e)return b(s,0,1)};g.encodePayloadAsArrayBuffer=function(a,c){if(!a.length)return c(new ArrayBuffer(0));e(a,function(a,c){g.encodePacket(a,!0,!0,function(a){return c(null,a)})},function(a,b){var e=b.reduce(function(a,c){var b;b="string"===
typeof c?c.length:c.byteLength;return a+b.toString().length+b+2},0),d=new Uint8Array(e),h=0;b.forEach(function(a){var c="string"===typeof a,b=a;if(c){for(var b=new Uint8Array(a.length),e=0;e<a.length;e++)b[e]=a.charCodeAt(e);b=b.buffer}c?d[h++]=0:d[h++]=1;a=b.byteLength.toString();for(e=0;e<a.length;e++)d[h++]=parseInt(a[e]);d[h++]=255;b=new Uint8Array(b);for(e=0;e<b.length;e++)d[h++]=b[e]});return c(d.buffer)})};g.encodePayloadAsBlob=function(a,c){e(a,function(a,c){g.encodePacket(a,!0,!0,function(a){var b=
new Uint8Array(1);b[0]=1;if("string"===typeof a){for(var e=new Uint8Array(a.length),d=0;d<a.length;d++)e[d]=a.charCodeAt(d);a=e.buffer;b[0]=0}for(var e=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),h=new Uint8Array(e.length+1),d=0;d<e.length;d++)h[d]=parseInt(e[d]);h[e.length]=255;t&&(a=new t([b.buffer,h.buffer,a]),c(null,a))})},function(a,b){return c(new t(b))})};g.decodePayloadAsBinary=function(a,c,b){"function"===typeof c&&(b=c,c=null);for(var e=[],d=!1;0<a.byteLength;){for(var f=new Uint8Array(a),
n=0===f[0],p="",m=1;255!=f[m];m++){if(310<p.length){d=!0;break}p+=f[m]}if(d)return b(s,0,1);a=h(a,2+p.length);p=parseInt(p);f=h(a,0,p);if(n)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(l){for(n=new Uint8Array(f),f="",m=0;m<n.length;m++)f+=String.fromCharCode(n[m])}e.push(f);a=h(a,p)}var r=e.length;e.forEach(function(a,e){b(g.decodePacket(a,c,!0),e,r)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,
"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(d,f,g){f.exports=Object.keys||function(a){var c=[],e=Object.prototype.hasOwnProperty,b;for(b in a)e.call(a,b)&&c.push(b);return c}},{}],23:[function(d,f,g){function a(){}f.exports=function(c,e,b){function d(a,c){if(0>=d.count)throw Error("after called too many times");--d.count;a?(g=!0,e(a),e=b):0!==d.count||g||e(null,c)}var g=!1;b=b||a;d.count=c;return 0===c?e():d}},{}],24:[function(d,f,g){f.exports=function(a,c,e){var b=a.byteLength;c=c||0;
e=e||b;if(a.slice)return a.slice(c,e);0>c&&(c+=b);0>e&&(e+=b);e>b&&(e=b);if(c>=b||c>=e||0===b)return new ArrayBuffer(0);a=new Uint8Array(a);for(var b=new Uint8Array(e-c),d=0;c<e;c++,d++)b[d]=a[c];return b.buffer}},{}],25:[function(d,f,g){(function(a){g.encode=function(c){c=new Uint8Array(c);var e,b=c.length,d="";for(e=0;e<b;e+=3)d+=a[c[e]>>2],d+=a[(c[e]&3)<<4|c[e+1]>>4],d+=a[(c[e+1]&15)<<2|c[e+2]>>6],d+=a[c[e+2]&63];2===b%3?d=d.substring(0,d.length-1)+"=":1===b%3&&(d=d.substring(0,d.length-2)+"==");
return d};g.decode=function(c){var e=.75*c.length,b=c.length,d=0,g,f,l,r;"="===c[c.length-1]&&(e--,"="===c[c.length-2]&&e--);for(var n=new ArrayBuffer(e),q=new Uint8Array(n),e=0;e<b;e+=4)g=a.indexOf(c[e]),f=a.indexOf(c[e+1]),l=a.indexOf(c[e+2]),r=a.indexOf(c[e+3]),q[d++]=g<<2|f>>4,q[d++]=(f&15)<<4|l>>2,q[d++]=(l&3)<<6|r&63;return n}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(d,f,g){(function(a){function c(a,c){c=c||{};for(var b=new e,d=0;d<a.length;d++)b.append(a[d]);
return c.type?b.getBlob(c.type):b.getBlob()}var e=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,b;try{b=2==(new Blob(["hi"])).size}catch(d){b=!1}var g=e&&e.prototype.append&&e.prototype.getBlob;a=b?a.Blob:g?c:void 0;f.exports=a}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],27:[function(d,f,g){(function(a){(function(c){function e(a){for(var c=[],b=0,e=a.length,d,h;b<e;)d=a.charCodeAt(b++),55296<=d&&56319>=d&&b<e?(h=a.charCodeAt(b++),
56320==(h&64512)?c.push(((d&1023)<<10)+(h&1023)+65536):(c.push(d),b--)):c.push(d);return c}function b(){if(s>=q)throw Error("Invalid byte index");var a=n[s]&255;s++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function d(){var a,c,e,h;if(s>q)throw Error("Invalid byte index");if(s==q)return!1;a=n[s]&255;s++;if(0==(a&128))return a;if(192==(a&224)){c=b();a=(a&31)<<6|c;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){c=b();e=b();a=(a&15)<<12|c<<6|
e;if(2048<=a)return a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(c=b(),e=b(),h=b(),a=(a&15)<<18|c<<12|e<<6|h,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var p="object"==typeof g&&g,m="object"==typeof f&&f&&f.exports==p&&f,l="object"==typeof a&&a;if(l.global===l||l.window===l)c=l;var r=String.fromCharCode,n,q,s,l={version:"2.0.0",encode:function(a){a=e(a);for(var c=a.length,b=-1,d,h="";++b<c;){d=a[b];if(0==(d&4294967168))d=r(d);else{var g="";0==(d&4294965248)?
g=r(d>>6&31|192):0==(d&4294901760)?(g=r(d>>12&15|224),g+=r(d>>6&63|128)):0==(d&4292870144)&&(g=r(d>>18&7|240),g+=r(d>>12&63|128),g+=r(d>>6&63|128));d=g+=r(d&63|128)}h+=d}return h},decode:function(a){n=e(a);q=n.length;s=0;a=[];for(var c;!1!==(c=d());)a.push(c);c=a.length;for(var b=-1,g,f="";++b<c;)g=a[b],65535<g&&(g-=65536,f+=r(g>>>10&1023|55296),g=56320|g&1023),f+=r(g);return f}};if(p&&!p.nodeType)if(m)m.exports=l;else{c={}.hasOwnProperty;for(var t in l)c.call(l,t)&&(p[t]=l[t])}else c.utf8=l})(this)}).call(this,
"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],28:[function(d,f,g){(function(a){var c=/^[\],:{}\s]*$/,e=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,b=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,d=/(?:^|:|,)(?:\s*\[)+/g,g=/^\s+/,m=/\s+$/;f.exports=function(f){if("string"!=typeof f||!f)return null;f=f.replace(g,"").replace(m,"");if(a.JSON&&JSON.parse)return JSON.parse(f);if(c.test(f.replace(e,"@").replace(b,"]").replace(d,"")))return(new Function("return "+
f))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],29:[function(d,f,g){g.encode=function(a){var c="",e;for(e in a)a.hasOwnProperty(e)&&(c.length&&(c+="&"),c+=encodeURIComponent(e)+"="+encodeURIComponent(a[e]));return c};g.decode=function(a){var c={};a=a.split("&");for(var e=0,b=a.length;e<b;e++){var d=a[e].split("=");c[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return c}},{}],30:[function(d,f,g){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");f.exports=function(e){var b=e,d=e.indexOf("["),g=e.indexOf("]");-1!=d&&-1!=g&&(e=e.substring(0,d)+e.substring(d,g).replace(/:/g,";")+e.substring(g,e.length));e=a.exec(e||"");for(var f={},l=14;l--;)f[c[l]]=e[l]||"";-1!=d&&-1!=g&&(f.source=b,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=
!0);return f}},{}],31:[function(d,f,g){function a(a,b,d){return b?new c(a,b):new c(a)}d=function(){return this}();var c=d.WebSocket||d.MozWebSocket;f.exports=c?a:null;c&&(a.prototype=c.prototype)},{}],32:[function(d,f,g){(function(a){var c=d("isarray");f.exports=function(d){function b(d){if(!d)return!1;if(a.Buffer&&a.Buffer.isBuffer(d)||a.ArrayBuffer&&d instanceof ArrayBuffer||a.Blob&&d instanceof Blob||a.File&&d instanceof File)return!0;if(c(d))for(var e=0;e<d.length;e++){if(b(d[e]))return!0}else if(d&&
"object"==typeof d)for(e in d.toJSON&&(d=d.toJSON()),d)if(d.hasOwnProperty(e)&&b(d[e]))return!0;return!1}return b(d)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:33}],33:[function(d,f,g){f.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],34:[function(d,f,g){d=d("global");try{f.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(a){f.exports=!1}},{global:35}],35:[function(d,f,
g){f.exports=function(){return this}()},{}],36:[function(d,f,g){var a=[].indexOf;f.exports=function(c,d){if(a)return c.indexOf(d);for(var b=0;b<c.length;++b)if(c[b]===d)return b;return-1}},{}],37:[function(d,f,g){var a=Object.prototype.hasOwnProperty;g.keys=Object.keys||function(c){var d=[],b;for(b in c)a.call(c,b)&&d.push(b);return d};g.values=function(c){var d=[],b;for(b in c)a.call(c,b)&&d.push(c[b]);return d};g.merge=function(c,d){for(var b in d)a.call(d,b)&&(c[b]=d[b]);return c};g.length=function(a){return g.keys(a).length};
g.isEmpty=function(a){return 0==g.length(a)}},{}],38:[function(d,f,g){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");f.exports=function(d){d=a.exec(d||"");for(var b={},h=14;h--;)b[c[h]]=d[h]||
"";return b}},{}],39:[function(d,f,g){(function(a){var c=d("isarray"),e=d("./is-buffer");g.deconstructPacket=function(a){function d(a){if(!a)return a;if(e(a)){var b={_placeholder:!0,num:g.length};g.push(a);return b}if(c(a)){for(var b=Array(a.length),f=0;f<a.length;f++)b[f]=d(a[f]);return b}if("object"==typeof a&&!(a instanceof Date)){b={};for(f in a)b[f]=d(a[f]);return b}return a}var g=[];a.data=d(a.data);a.attachments=g.length;return{packet:a,buffers:g}};g.reconstructPacket=function(a,d){function e(a){if(a&&
a._placeholder)return d[a.num];if(c(a))for(var b=0;b<a.length;b++)a[b]=e(a[b]);else if(a&&"object"==typeof a)for(b in a)a[b]=e(a[b]);return a}a.data=e(a.data);a.attachments=void 0;return a};g.removeBlobs=function(b,d){function g(b,n,q){if(!b)return b;if(a.Blob&&b instanceof Blob||a.File&&b instanceof File){f++;var s=new FileReader;s.onload=function(){q?q[n]=this.result:l=this.result;--f||d(l)};s.readAsArrayBuffer(b)}else if(c(b))for(s=0;s<b.length;s++)g(b[s],s,b);else if(b&&"object"==typeof b&&!e(b))for(s in b)g(b[s],
s,b)}var f=0,l=b;g(l);f||d(l)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":41,isarray:42}],40:[function(d,f,g){function a(){}function c(a){var b,c=!1;b=""+a.type;if(g.BINARY_EVENT==a.type||g.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(c=!0,b+=a.nsp);null!=a.id&&(c&&(b+=",",c=!1),b+=a.id);null!=a.data&&(c&&(b+=","),b+=m.stringify(a.data));p("encoded %j as %s",a,b);return b}function e(a,b){l.removeBlobs(a,function(a){var d=l.deconstructPacket(a);
a=c(d.packet);d=d.buffers;d.unshift(a);b(d)})}function b(){this.reconstructor=null}function h(a){this.reconPack=a;this.buffers=[]}var p=d("debug")("socket.io-parser"),m=d("json3");d("isarray");f=d("component-emitter");var l=d("./binary"),r=d("./is-buffer");g.protocol=4;g.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");g.CONNECT=0;g.DISCONNECT=1;g.EVENT=2;g.ACK=3;g.ERROR=4;g.BINARY_EVENT=5;g.BINARY_ACK=6;g.Encoder=a;g.Decoder=b;a.prototype.encode=function(a,b){p("encoding packet %j",
a);if(g.BINARY_EVENT==a.type||g.BINARY_ACK==a.type)e(a,b);else{var d=c(a);b([d])}};f(b.prototype);b.prototype.add=function(a){if("string"==typeof a){a:{var b={},c=0;b.type=Number(a.charAt(0));if(null==g.types[b.type])a={type:g.ERROR,data:"parser error"};else{if(g.BINARY_EVENT==b.type||g.BINARY_ACK==b.type){for(b.attachments="";"-"!=a.charAt(++c);)b.attachments+=a.charAt(c);b.attachments=Number(b.attachments)}if("/"==a.charAt(c+1))for(b.nsp="";++c;){var d=a.charAt(c);if(","==d)break;b.nsp+=d;if(c+
1==a.length)break}else b.nsp="/";d=a.charAt(c+1);if(""!=d&&Number(d)==d){for(b.id="";++c;){d=a.charAt(c);if(null==d||Number(d)!=d){--c;break}b.id+=a.charAt(c);if(c+1==a.length)break}b.id=Number(b.id)}if(a.charAt(++c))try{b.data=m.parse(a.substr(c))}catch(e){a={type:g.ERROR,data:"parser error"};break a}p("decoded %s as %j",a,b);a=b}}g.BINARY_EVENT==a.type||g.BINARY_ACK==a.type?(this.reconstructor=new h(a),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(r(a)||
a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+a);};b.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};h.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=l.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),
a):null};h.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(d,f,g){(function(a){f.exports=function(c){return a.Buffer&&a.Buffer.isBuffer(c)||a.ArrayBuffer&&c instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],42:[function(d,f,g){f.exports=d(33)},{}],43:[function(d,f,g){(function(a){function c(a){if(c[a]!==f)return c[a];
var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=c("json-stringify")&&c("json-parse");else{var g;if("json-stringify"==a){b=l.stringify;var h="function"==typeof b&&r;if(h){(g=function(){return 1}).toJSON=g;try{h="0"===b(0)&&"0"===b(new Number)&&'""'==b(new String)&&b(d)===f&&b(f)===f&&b()===f&&"1"===b(g)&&"[1]"==b([g])&&"[null]"==b([f])&&"null"==b(null)&&"[null,null,null]"==b([f,d,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==b({a:[g,!0,!1,null,"\x00\b\n\f\r\t"]})&&
"1"===b(null,g)&&"[\n 1,\n 2\n]"==b([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==b(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==b(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==b(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==b(new Date(-1))}catch(n){h=!1}}b=h}if("json-parse"==a){b=l.parse;if("function"==typeof b)try{if(0===b("0")&&!b(!1)){g=b('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var m=5==g.a.length&&1===g.a[0];if(m){try{m=!b('"\t"')}catch(K){}if(m)try{m=1!==
b("01")}catch(k){}if(m)try{m=1!==b("1.")}catch(s){}}}}catch(q){m=!1}b=m}}return c[a]=!!b}var d={}.toString,b,h,f,m="object"==typeof JSON&&JSON,l="object"==typeof g&&g&&!g.nodeType&&g;l&&m?(l.stringify=m.stringify,l.parse=m.parse):l=a.JSON=m||{};var r=new Date(-0xc782b5b800cec);try{r=-109252==r.getUTCFullYear()&&0===r.getUTCMonth()&&1===r.getUTCDate()&&10==r.getUTCHours()&&37==r.getUTCMinutes()&&6==r.getUTCSeconds()&&708==r.getUTCMilliseconds()}catch(n){}if(!c("json")){var q=c("bug-string-char-index");
if(!r)var s=Math.floor,t=[0,31,59,90,120,151,181,212,243,273,304,334],y=function(a,b){return t[b]+365*(a-1970)+s((a-1969+(b=+(1<b)))/4)-s((a-1901+b)/100)+s((a-1601+b)/400)};(b={}.hasOwnProperty)||(b=function(a){var c={},g;(c.__proto__=null,c.__proto__={toString:1},c).toString!=d?b=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(g=c.constructor,b=function(a){var b=(this.constructor||g).prototype;return a in this&&!(a in b&&this[a]===b[a])});c=null;return b.call(this,
a)});var C={"boolean":1,number:1,string:1,undefined:1};h=function(a,c){var g=0,f,p,m;(f=function(){this.valueOf=0}).prototype.valueOf=0;p=new f;for(m in p)b.call(p,m)&&g++;f=p=null;g?h=2==g?function(a,c){var g={},h="[object Function]"==d.call(a),f;for(f in a)h&&"prototype"==f||b.call(g,f)||!(g[f]=1)||!b.call(a,f)||c(f)}:function(a,c){var g="[object Function]"==d.call(a),f,h;for(f in a)g&&"prototype"==f||!b.call(a,f)||(h="constructor"===f)||c(f);(h||b.call(a,f="constructor"))&&c(f)}:(p="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
h=function(a,c){var g="[object Function]"==d.call(a),f,h;if(h=!g&&"function"!=typeof a.constructor)h=typeof a.hasOwnProperty,h="object"==h?!!a.hasOwnProperty:!C[h];h=h?a.hasOwnProperty:b;for(f in a)g&&"prototype"==f||!h.call(a,f)||c(f);for(g=p.length;f=p[--g];h.call(a,f)&&c(f));});return h(a,c)};if(!c("json-stringify")){var H={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},w=function(a,b){return("000000"+(b||0)).slice(-a)},E=function(a){var b='"',c=0,d=a.length,e=10<d&&q,g;for(e&&
(g=a.split(""));c<d;c++){var f=a.charCodeAt(c);switch(f){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=H[f];break;default:if(32>f){b+="\\u00"+w(2,f.toString(16));break}b+=e?g[c]:q?a.charAt(c):a[c]}}return b+'"'},D=function(a,c,g,m,l,n,r){var k,q,t,v,x,A,C,B,z;try{k=c[a]}catch(F){}if("object"==typeof k&&k)if(q=d.call(k),"[object Date]"!=q||b.call(k,"toJSON"))"function"==typeof k.toJSON&&("[object Number]"!=q&&"[object String]"!=q&&"[object Array]"!=q||b.call(k,"toJSON"))&&(k=k.toJSON(a));
else if(k>-1/0&&k<1/0){if(y){v=s(k/864E5);for(q=s(v/365.2425)+1970-1;y(q+1,0)<=v;q++);for(t=s((v-y(q,0))/30.42);y(q,t+1)<=v;t++);v=1+v-y(q,t);x=(k%864E5+864E5)%864E5;A=s(x/36E5)%24;C=s(x/6E4)%60;B=s(x/1E3)%60;x%=1E3}else q=k.getUTCFullYear(),t=k.getUTCMonth(),v=k.getUTCDate(),A=k.getUTCHours(),C=k.getUTCMinutes(),B=k.getUTCSeconds(),x=k.getUTCMilliseconds();k=(0>=q||1E4<=q?(0>q?"-":"+")+w(6,0>q?-q:q):w(4,q))+"-"+w(2,t+1)+"-"+w(2,v)+"T"+w(2,A)+":"+w(2,C)+":"+w(2,B)+"."+w(3,x)+"Z"}else k=null;g&&(k=
g.call(c,a,k));if(null===k)return"null";q=d.call(k);if("[object Boolean]"==q)return""+k;if("[object Number]"==q)return k>-1/0&&k<1/0?""+k:"null";if("[object String]"==q)return E(""+k);if("object"==typeof k){for(a=r.length;a--;)if(r[a]===k)throw TypeError();r.push(k);z=[];c=n;n+=l;if("[object Array]"==q){t=0;for(a=k.length;t<a;t++)q=D(t,k,g,m,l,n,r),z.push(q===f?"null":q);a=z.length?l?"[\n"+n+z.join(",\n"+n)+"\n"+c+"]":"["+z.join(",")+"]":"[]"}else h(m||k,function(a){var b=D(a,k,g,m,l,n,r);b!==f&&
z.push(E(a)+":"+(l?" ":"")+b)}),a=z.length?l?"{\n"+n+z.join(",\n"+n)+"\n"+c+"}":"{"+z.join(",")+"}":"{}";r.pop();return a}};l.stringify=function(a,b,c){var g,f,h,k;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(k=d.call(b)))f=b;else if("[object Array]"==k){h={};for(var p=0,m=b.length,l;p<m;l=b[p++],(k=d.call(l),"[object String]"==k||"[object Number]"==k)&&(h[l]=1));}if(c)if("[object Number]"==(k=d.call(c))){if(0<(c-=c%1))for(g="",10<c&&(c=10);g.length<c;g+=" ");}else"[object String]"==
k&&(g=10>=c.length?c:c.slice(0,10));return D("",(l={},l[""]=a,l),f,h,g,"",[])}}if(!c("json-parse")){var J=String.fromCharCode,I={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},k,A,v=function(){k=A=null;throw SyntaxError();},x=function(){for(var a=A,b=a.length,c,d,e,g,f;k<b;)switch(f=a.charCodeAt(k),f){case 9:case 10:case 13:case 32:k++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=q?a.charAt(k):a[k],k++,c;case 34:c="@";for(k++;k<b;)if(f=a.charCodeAt(k),32>f)v();
else if(92==f)switch(f=a.charCodeAt(++k),f){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=I[f];k++;break;case 117:d=++k;for(e=k+4;k<e;k++)f=a.charCodeAt(k),48<=f&&57>=f||97<=f&&102>=f||65<=f&&70>=f||v();c+=J("0x"+a.slice(d,k));break;default:v()}else{if(34==f)break;f=a.charCodeAt(k);for(d=k;32<=f&&92!=f&&34!=f;)f=a.charCodeAt(++k);c+=a.slice(d,k)}if(34==a.charCodeAt(k))return k++,c;v();default:d=k;45==f&&(g=!0,f=a.charCodeAt(++k));if(48<=f&&57>=f){for(48==f&&(f=a.charCodeAt(k+
1),48<=f&&57>=f)&&v();k<b&&(f=a.charCodeAt(k),48<=f&&57>=f);k++);if(46==a.charCodeAt(k)){for(e=++k;e<b&&(f=a.charCodeAt(e),48<=f&&57>=f);e++);e==k&&v();k=e}f=a.charCodeAt(k);if(101==f||69==f){f=a.charCodeAt(++k);43!=f&&45!=f||k++;for(e=k;e<b&&(f=a.charCodeAt(e),48<=f&&57>=f);e++);e==k&&v();k=e}return+a.slice(d,k)}g&&v();if("true"==a.slice(k,k+4))return k+=4,!0;if("false"==a.slice(k,k+5))return k+=5,!1;if("null"==a.slice(k,k+4))return k+=4,null;v()}return"$"},B=function(a){var b,c;"$"==a&&v();if("string"==
typeof a){if("@"==(q?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=x();if("]"==a)break;c&&(","==a?(a=x(),"]"==a&&v()):v());","==a&&v();b.push(B(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=x();if("}"==a)break;c&&(","==a?(a=x(),"}"==a&&v()):v());","!=a&&"string"==typeof a&&"@"==(q?a.charAt(0):a[0])&&":"==x()||v();b[a.slice(1)]=B(x())}return b}v()}return a},G=function(a,b,c){c=F(a,b,c);c===f?delete a[b]:a[b]=c},F=function(a,b,c){var f=a[b],g;if("object"==typeof f&&f)if("[object Array]"==
d.call(f))for(g=f.length;g--;)G(f,g,c);else h(f,function(a){G(f,a,c)});return c.call(a,b,f)};l.parse=function(a,b){var c,f;k=0;A=""+a;c=B(x());"$"!=x()&&v();k=A=null;return b&&"[object Function]"==d.call(b)?F((f={},f[""]=c,f),"",b):c}}}})(this)},{}],44:[function(d,f,g){f.exports=function(a,c){for(var d=[],b=(c=c||0)||0;b<a.length;b++)d[b-c]=a[b];return d}},{}]},{},[1])(1)});
(function(u,d){"function"===typeof define&&define.amd?define(d):"object"===typeof exports?module.exports=d():u.gyro=d()})(this,function(){var u={x:null,y:null,z:null,alpha:null,beta:null,gamma:null},d={x:0,y:0,z:0,alpha:0,beta:0,gamma:0},f=null,g=[],a={frequency:500,calibrate:function(){for(var a in u)d[a]="number"===typeof u[a]?u[a]:0},getOrientation:function(){return u},startTracking:function(c){f=setInterval(function(){c(u)},a.frequency)},stopTracking:function(){clearInterval(f)},hasFeature:function(a){for(var d in g)if(a==
g[d])return!0;return!1},getFeatures:function(){return g}};window&&window.addEventListener&&function(){function a(b){g.push("MozOrientation");b.target.removeEventListener("MozOrientation",a,!0);b.target.addEventListener("MozOrientation",function(a){u.x=a.x-d.x;u.y=a.y-d.y;u.z=a.z-d.z},!0)}function e(a){g.push("devicemotion");a.target.removeEventListener("devicemotion",e,!0);a.target.addEventListener("devicemotion",function(a){u.x=a.accelerationIncludingGravity.x-d.x;u.y=a.accelerationIncludingGravity.y-
d.y;u.z=a.accelerationIncludingGravity.z-d.z},!0)}function b(a){g.push("deviceorientation");a.target.removeEventListener("deviceorientation",b,!0);a.target.addEventListener("deviceorientation",function(a){u.alpha=a.alpha-d.alpha;u.beta=a.beta-d.beta;u.gamma=a.gamma-d.gamma},!0)}window.addEventListener("MozOrientation",a,!0);window.addEventListener("devicemotion",e,!0);window.addEventListener("deviceorientation",b,!0)}();return a});
(function(u){var d=u.rc=u.rc||{},f=io("http://www.rcjs.me:8000");d.initController=function(b,h){f.removeAllListeners("connection-error");f.removeAllListeners("connection-success");f.on("connection-error",function(a){h({error:a})});f.on("connection-success",function(b){b&&(d.send=g,d.disconnect=a,d.startAccelerometer=c,d.stopAccelerometer=e,h({success:!0}))});f.emit("initialize-controller",{id:b})};var g=function(a,c){c._eventType=a;f.emit("controller-event",c)},a=function(a){f.on("application-disconnect",
function(c){a()})},c=function(){gyro.startTracking(function(a){g("rc_accelerometer",a)})},e=function(){gyro.stopTracking()}})(window);(function(u){(u.rc=u.rc||{}).events={BUTTON_PRESS:"rc_button_press",BUTTON_RELEASE:"rc_button_release",TRACKPAD_PRESS:"rc_trackpad_press",TRACKPAD_MOVE:"rc_trackpad_move",TRACKPAD_RELEASE:"rc_trackpad_release",ACCELEROMETER:"rc_accelerometer"}})(window);
(function(u,d){function f(a,c,d){a.addEventListener?a.addEventListener(c,d):a.attachEvent&&a.attachEvent("on"+c,d)}var g=u.rc=u.rc||{};g.widgets={Button:function(a,c,e,b,h){var p=d.createElement("div");p.style.position="absolute";p.style.top=e+"px";p.style.left=c+"px";p.style.width=b+"px";p.style.height=h+"px";p.className="rc-button";p.innerHTML=a;c=function(b){g.send(g.events.BUTTON_PRESS,{name:a})};e=function(b){g.send(g.events.BUTTON_RELEASE,{name:a})};f(p,"mousedown",c);f(p,"touchstart",c);f(p,
"mouseup",e);f(p,"touchend",e);return p},Trackpad:function(a,c,e,b,h,p,m){p=p||1;m=m||1;var l=d.createElement("div");l.style.position="absolute";l.style.top=e+"px";l.style.left=c+"px";l.style.width=b+"px";l.style.height=h+"px";l.className="rc-trackpad";var r=function(a,d){relX=a-c;relY=d-e;return{x:relX*p/b,y:relY*m/h}},n=!1,q=function(b){n=!0;b=r(b.pageX,b.pageY);g.send(g.events.TRACKPAD_PRESS,{name:a,x:b.x,y:b.y})},s=function(b){n&&(b=r(b.pageX,b.pageY),g.send(g.events.TRACKPAD_MOVE,{name:a,x:b.x,
y:b.y}))},t=function(b){n=!1;b=r(b.pageX,b.pageY);g.send(g.events.TRACKPAD_RELEASE,{name:a,x:b.x,y:b.y})};f(l,"mousedown",q);f(l,"touchstart",q);f(l,"mousemove",s);f(l,"touchmove",s);f(l,"mouseup",t);f(l,"touchend",t);return l}}})(window,document);